Zagor   => Björn Stenberg
linus   => Linus Nielsen Feltzing
Bagder  => Daniel Stenberg
Wavey   => Stuart Martin
alkorr  => Alan Korr
adiamas => Rob

**** BEGIN LOGGING AT Tue Mar 26 07:47:01 2002

--> Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
--- devlin.openprojects.net sets mode +n #rockbox
--- Bagder sets mode +t #rockbox
--> adiamas (~adiamas@as5300-9.216-194-23-156.nyc.ny.metconnect.net) has joined #rockbox
<Bagder> hi
<-- adiamas (~adiamas@as5300-9.216-194-23-156.nyc.ny.metconnect.net) has left #rockbox ("Client Exiting")
--> adiamas (~adiamas@as5300-9.216-194-23-156.nyc.ny.metconnect.net) has joined #rockbox
<adiamas> hey there.
<Bagder> morning ;-)
<adiamas> hehe for you ;)
--> wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<Bagder> g'day wavey
<wavey> howdy
<adiamas> howdy wavey
<wavey> hey adiamas
<wavey> you have the recorder or player, adiamas?
<adiamas> recorder
<wavey> cool
<adiamas> got it off of ebay for a nice cheap price.. :)
<wavey> does yours have any quirks?
<adiamas> one that ive noticed so far...
<wavey> mine has dodgy contact in earphone socket
<wavey> keeps resetting when moved :(
<adiamas> if i remember correctly it was that i couldn't save the playlist...
<adiamas> if i edited it when i was running.
<wavey> only 3 months old
<adiamas> from the player...
<adiamas> if i do it from the command line, then transfer the file, all is well..
<wavey> yeah
<adiamas> well.. that and i had it completely barf on me last night.
<wavey> i think that's normal crappy firmware
<wavey> really?
<adiamas> nod
<wavey> recoverable, i hope?
<adiamas> dunno what it was...
<adiamas> yeah.. but i had to boot into windows to delete the disk.. clear it all out.
<wavey> tsk
<adiamas> i tried for like 4 hours in linux.. did everything i could think of...
<adiamas> fsck
<adiamas> fdisk
<adiamas> fsck.vfat
<adiamas> rm -rf
<adiamas> hell, i even went as far as bit permisions...
<adiamas> no go.
<wavey> but windows was cool with it?
<wavey> scary
<adiamas> nods
<adiamas> i did the windows "fake format"
<adiamas> delete all :P
<wavey> heh
<adiamas> so badger.. how about setting a topic eh?
<adiamas> :)
--- Bagder gives channel operator status to adiamas
<adiamas> heheh
--- Bagder gives channel operator status to wavey
--- Bagder has changed the topic to: rock the box
--- adiamas has changed the topic to: rock the box http://bjorn.haxx.se/rockbox/
<adiamas> hehehe
<adiamas> so im waiting on addition to sourceforge to toss up version one of the FAQ
<Bagder> cool
<wavey> haven't read email yet - how far is your simulator going, bagder?
<Bagder> I didn't do much more yesterday
<Bagder> I'm gonna attack the font code next
<wavey> cool
<Bagder> to make a function that outputs similar text on the recorder and X11
<wavey> groovy
<Bagder> hm, not similar, identical really
<wavey> even better
<Bagder> Jerome Kuptz posted on the list and volounteered to write a windows port for the ui sim
<wavey> lovely
<adiamas> bagder you have any source i can grab to look at the sim?
<Bagder> I added the sources to the rockbox CVS yesterday
<Bagder> its easiest to get them off there
<adiamas> k... ill go look
<Bagder> it isn't very much to look at yet though ;-)
<Bagder> it pops up a window, draws a line and outputs a text 
<adiamas> itll get there ;)
<Bagder> adiamas: did you by any chance do some X11 programming before?
<adiamas> nope.. but im a quick study.
<adiamas> some mild exp with qt
<adiamas> my modem is going to explode with all these downloads :)
<Bagder> it's good to keep it busy ;-)
<adiamas> yup.. esp just before i head off to bed ;)
<Bagder> Gary's lcd code keeps a full copy of the bitmap in memory, and writes the whole thing to the lcd all the time
<Bagder> which probably makes it easier to make a X11 version too
<adiamas> that would make sense...
<adiamas> has anyone finalized at all on what exactly our first target/goal is to achieve?
<Bagder> not really, no
<wavey> i think we need to produce a simple menu UI first
<wavey> get that working on both player and recorder
<adiamas> nods
<wavey> and then look at how to approach the diff UI capabilities of the two devices
<adiamas> some kinda lib that makes ui creation pretty simple would be nice
<wavey> aye
<adiamas> i havne't played with just the player.. so i don't really know the differences yet...
<adiamas> oh.. btw ... when i post things.. forgive the spelling... i am a HORRID speller...
<adiamas> put my mother (english teach for 20 yrs) into fits of tears :)
* adiamas swells with pride
<wavey> player has tiny screen
<wavey> 3 lines or something like that
<wavey> instead of 8
<wavey> getting a simple menu ui up and running allows the back-end firmware developers to test their stuff
<adiamas> ahhhh
<wavey> so we need a) screen drawing capabilities
<adiamas> ummm.. using cvs, how do i do a pull of all files in a dir?
<wavey> b) file browsing capabilities
<wavey> (to locate a file to play and stop, etc)
<Bagder> adiamas: see http://sourceforge.net/cvs/?group_id=44306, replace "modulename" with uisimulator
<adiamas> good.. just did that...
<wavey> and c) basic controls to start, stop, pause an mp3
<wavey> the 2nd generation UI can have the visual goodies - levels, scrolling titles, etc
<wavey> the simple ui shouldn't take too long 
<adiamas> okay.. explain to me.. WTF would sourceforge require use of ssh1 when its known to be flawed?
<adiamas> when not go to ssh2?
<wavey> flawed doesn't mean useless
<wavey> i guess
* adiamas nods
<adiamas> um Bagder you do realize your FILES lists a README, but there isn't one right?
<Bagder> oops
<adiamas> and just a question of taste... are we doing 2, 4, or 8 char tab stops?
<Bagder> I do 8 char tab stops, c indenting with 2 spaces
<adiamas> nods
<Bagder> (setq c-basic-offset 2)
<Bagder> (setq indent-tabs-mode nil)
<Bagder> :-)
<adiamas> i lean toward 4 myself.. but as long as i can map emacs to you im good :)
* adiamas curses rh7.1
<adiamas> friggin X11 headers are missing.
<adiamas> hehehe yup
<adiamas> or
<adiamas> :set tabstop 4
<adiamas> :set tabstop 8
<adiamas> if you use a real _editor_
<Bagder> hehehe
<Bagder> hm, I wonder if using XDrawPoints() is sensible to use...
<Bagder> I removed the FILES file now
--> Zagor (~bjst@labb.contactor.se) has joined #rockbox
<Zagor> yo boys
<Bagder> morning
<Zagor> have you looked at the new "mods" page I added to the web page?
<Bagder> great sets of pics! ;-)
<Zagor> thanks
<Zagor> i should be a model! :-D
<Bagder> btw Zagor, I think I go with Gary's fonts and his way of representing the lcd in memory
<Zagor> ok
<Bagder> the bytes are then vertical, lsb on top
<wavey> zagor: nice pictures
<Zagor> can you have >8 pixel wide chars?
<Zagor> or high, i mean
<Bagder> Well, we'll have a complete 112x64 pic in memory so we can make whatever we want
<Zagor> thanks, wavey
<Bagder> we write the complete bitmap
<Bagder> at least to start with
<Zagor> bagder: so why do we want vertical bytes? it ends up as a lot more bit flipping to get the pixels out
<Bagder> because that's how the lcd itself has them
<Bagder> makes faster updates
<Zagor> ok, so the 112x64 pixmap is vertically oriented?
<Bagder> each byte is 8 pixels "high", byte 0 is top left, byte 1 is 2nd left etc
<Zagor> ok. makes sense, then
<Bagder> I'm making three files now, lcd.c with generic lcd stuff, lcd-recorder.c that writes the bitmap to a recorder and lcd-x11.c that writes the bitmap to an x11 window
<adiamas> were staying c based for now correct?
<Zagor> yes
<Bagder> yes
<adiamas> or are we going straight to c++?
<adiamas> k...
<Zagor> no :)
<adiamas> damnit... way to early here... can someone remind me the name of the file that allows you to turn services on and off?
<adiamas> i konw its not /etc/services
* adiamas needs bed bad
<Zagor> uh, redhat?
<Bagder> /etc/inetd.conf ?
<adiamas> thats it.. thank you.
--- Bagder gives channel operator status to Zagor
<Zagor>  
--- adiamas is now known as adiamas|sleeping
<Bagder> hey
<Bagder> it works ;-)
<wavey> what does?
<Bagder> my new code, using a memory bitmap and lcd_update()
<wavey> nice one :)
<Bagder> exact same pixel-setup as the recorder would get
<wavey> coolio
<wavey> very useful
<Bagder> very tiny letters though :-)
<Bagder> I should probably allow some zooming or somthing
<Bagder> so, now we can write a small program using the new lcd API, and the output seen in the X11 window is what will be seen on the recorder screen as well
--> Tumm (coyote@dreamhosted.borlange.se) has joined #rockbox
<Tumm> lo
<wavey> excellent
<wavey> hiya tumm
<Bagder> hi
<Bagder> XDrawPoints() was all I needed
<wavey> well, technically, XDrawPoint() is all you needed ;)
<Bagder> right, but one at a time turned out very slow
<wavey> :)
<wavey> surely XDrawPoints() uses a lot of XDrawPoint()?
<Bagder> I'm running my X11-windows over ssh from a machine far away ;-)
<wavey> or is that naive?
<wavey> ah
<wavey> heh
<Bagder> well, it doesn't make them appear one by one, but instead all at once
<Bagder> and it makes a huge difference
<Bagder> time to eat
--> alankrr (jbcoax@srs03v-7-104.n.club-internet.fr) has joined #rockbox
<alankrr> hi people
<wavey> happy fooding.
<wavey> hiya alan
<alankrr> oh yes i forget ! :) it's time for eating
<wavey> :)
<alankrr> i wonder why zagor doesn't reply
<alankrr> but now i know
<alankrr> ok what's up ?
<wavey> daniel's ui simulator is coming along
<wavey> he's got the same images appearing in X as will appear in the recorder lcd
<alankrr> yes but is it using the same layout ?
<wavey> including characters, i think
<wavey> layout?
<alankrr> i mean the way to set a pixel in LCD
<wavey> you mean the API?
<wavey> i think that's the idea
<alankrr> ah ok it's just at the high level
<wavey> X is just an output alternative, the recorder's lcd is another
<wavey> the API is the same
<wavey> hopefully ;)
<alankrr> well, there are ways to put images at pixel coordinates
<alankrr> but ye must use a shifter table
<alankrr> 'cause shift instructions on SH1 are not smart enough
<wavey> ah
<alankrr> so it is why i asked if this simulator works by simulating the LCD layout on X
<alankrr> but never mind, it is not an urgent thing to do :)
<alankrr> you are the only one here ?
<wavey> at the moment, yep
<wavey> the swedes are having lunch, it seems
<alankrr> and how many time will Bagder and Zagor be here in ? 
<alankrr> yes it's normal
<wavey> try again in an hour or so
<alankrr> okay see you all later
<-- alankrr has quit ()
--> alankrr (jbcoax@srs07v-5-60.n.club-internet.fr) has joined #rockbox
<alankrr> are people still absent ?
--- alankrr is now known as alkorr
<Bagder> back
<alkorr> oh good
<alkorr> maybe you don't know me ?
<Bagder> no I don't, who are you? ;-)
<alkorr> arf, i know you brother in fact :)
<Bagder> we're all a big happy family here anyway! ;-)
<Bagder> btw, the lcd "simulator" is based on the original working recorder lcd code by Gary Czvitkovicz
<Bagder> so it should work pretty much already
<alkorr> yes i know, i've just reread your emails
<Bagder> and I'm working on getting the same API to work on both the recorder and X11
<Bagder> and I hope to do a similar dual approach for jukebox/X11 output later
<alkorr> well it would be very difficult :)
<Bagder> why?
<alkorr> with just 2 lines with only 11 characters
<Bagder> yes, then I'll make a small X11-windows 2 lines high, 11 chars wide. that's not too difficult
<alkorr> and each characters are seperate with at least 3 pixels
<alkorr> so you are very limited for fx
<Bagder> I know
<Bagder> but that's what we have, that's not anything I can do to change
<alkorr> for example, scrolling can only be done on basis of characters not pixel
<Bagder> yes
<alkorr> etc.
<Bagder> why is that difficult then?
<alkorr> because it is a character-LCD not a graphical LCD
<Bagder> I'm not planning to make one single unified API for both platforms
<alkorr> ok
<alkorr> anyway we need a begining for a start ;)
<Bagder> true
<alkorr> by the way, i know very well the SH1
<alkorr> its advantages and disadvantages and its on-chip peripherals
<Bagder> that's useful indeed. I've did my share of SH1 assembler, but that was some 6 years ago now
<alkorr> :)
<alkorr> gcc doesn't generate very well code as ia32 does :(
<alkorr> let me explain to you
<alkorr> there are two possibility to branch
<alkorr> one is using jsr or jmp with a register containing the address to call or to jump
<alkorr> another one using bsr or bra with an 12-bit immediate offset
<alkorr> gcc don't generate brs nor bra
<alkorr> so it will use several registers to be able to use jsr or jmp
<Bagder> well, it should be possible to fix the gcc, even it its quite hard I figure
<alkorr> i tried with static functions close to a function which calls those static functions
<alkorr> without success
<alkorr> well there several example like this which explains why I prefer not to use C for all
<Bagder> for loops that is gonna make a difference, but for most code it is a penalty we can take, imho
<alkorr> so you mustn't be surprised to see a lot of asm in my source
<alkorr> i don't care for speed
<alkorr> but for space
<Bagder> you restrict the audience quite a lot by using asm, as not many people will be able to read it nor write it
<wavey> low level functions can be asm
<wavey> that's not a problem at all
<alkorr> i'm speaking about low functions, not for your GUI :)
<wavey> screen updating code can be a complex as you wan
<wavey> because people will access it from C
<alkorr> so we are okay
<wavey> yup
<Bagder> indeed
<wavey> hoorah!
* wavey chuckles
* Bagder smiles
<alkorr> it is not in my intention to do all the stuff in asm 
<Bagder> what parts are gonna start (have you started) with?
<alkorr> LCD
<alkorr> USB
<alkorr> let me see my source
<alkorr> timer
<alkorr> lcd+backlight+led
<alkorr> where i'm using atomic operation to set or clear port A and B
<alkorr> so asm+c
<alkorr> a start of ATA
<alkorr> but i lost the main part in a harddisk crash
<alkorr> ata is C
<Bagder> what kind of lcd code do you have?
<alkorr> for JBP
<alkorr> i send you my source
<Bagder> please do
<Bagder> mail me at daniel@haxx.se
<Bagder> my usb2 card has arrived!
<alkorr> i don't send all my package
<Bagder> I'm mainly interested in the lcd parts sright now
<alkorr> just LCD parts and headers you could need 
<Bagder> right, thanks
<alkorr> for JBR i don't try because i lose my JBR
<alkorr> so i cannot try it
<Bagder> I already have working code for the recorder
<Bagder> I'll make a little api for the player built on your code
<Bagder> did anyone make a table of all the available letters/characters on the player's LCD screen?
<Zagor> yes
<wavey> it's on the notes page next to the recorders
<Zagor> it's not the recorder's, it's the player versions
<Zagor> the new and old have different charsets
<alkorr> there is difference between old and new text-lcd in JBP
<alkorr> i have the new one which is quite compliant with ascii table
<Bagder> aha, it could be clarified on the web page...
<alkorr> by the way i'm not sure about my tables :)
<alkorr> i never test them thoroughly
<wavey> test?
<wavey> what is that? ;)
<alkorr> and even worse for old lcd since i don't have one
<Bagder> btw, how do we read/fetch input from the keys currently?
<alkorr> in lcd.c there is two tables for characters translations
<alkorr> so our api can work with new and old taxt-lcd without changing our strings to display
<alkorr> for the moment i use a polling method
<alkorr> in fact it is the only way
<alkorr> i'm speaking about JBP (player)
<Bagder> fine enough, I would just like a defined api on how to do it
<alkorr> in the original firmware, they use the interrupt itu0 for polling keys
<alkorr> for JBR, it is much more complicated
<alkorr> i explain
<alkorr> you have two pins for two groups of fours keys
<alkorr> those two pins are analogic
<alkorr> so you need to scan periodically their pins and translate their value to determine which key is pressed or released
<alkorr> a way it is to use the interrupt ADC in scan mode which gives us the value and will translate them in a more practical bitmap or somethig like it
<alkorr> another way is to use the dma to scan those pins and generate the interrupt dei to translate
<Bagder> I don't think you understand what I want ;-)
<alkorr> ok you want for player or for recorder
<alkorr> ?
<Bagder> both preferably, but one at a time is fine too
<alkorr> i just have for player
<alkorr> ok
<alkorr> as you can see it isn't a generic API for keyboard
<alkorr> but you know where to poll them
<Bagder> is there anything that prevents us from creating a "generic" api for this?
<alkorr> no of course
<alkorr> i was doing that in key.c but it is not my priority in fact
<alkorr> so we are free to do so
<alkorr> if you need info i can help you to do so
<Bagder> because since I want to "simulate" this on X11, it gets easier if I can simulate the API
<alkorr> yes but we need first to know what we need
<alkorr> and quite now I'm still unsure about it
<alkorr> so I don't have a clear API for keyboard
<Bagder> yes, that sounds logical ;-)
<alkorr> keyboard event to handle for exapmle ?
<alkorr> are you using events ?
<Bagder> x11 events?
<alkorr> you know like in X or Windows or in TurboVision (if you knew that ;)
<Bagder> yes, this is x11 it uses events
<alkorr> something which can represent input or output event to handle by several entities
<alkorr> i'm speaking about our final rockbox
<Bagder> I'm not ;-)
<alkorr> if you want an API
<Bagder> I only want a simple input api
<alkorr> to simulate
<Bagder> it could be changed or improved later on
<alkorr> well there is two possibilities
<alkorr> using keybitmap
<alkorr> or using key buffer
<alkorr> to use a key buffer
<alkorr> can you send me your file so i can see the way to handle UI ? 
<Bagder> its in CVS, there are many files
<Bagder> its really simple: lcd_update() updates the screen
<alkorr> oh that's true ??? ok i go and download them
<Bagder> lcd_string() outputs a string
<Bagder> lcd_position() sets the "cursor"
<Bagder> so far
<alkorr> direct actions on lcd ?
<alkorr> or using buffer ?
<Bagder> no, they manipulate the buffer and lcd_update() writes to the lcd
<alkorr> so why lcd_update, ok
<Bagder> but for the player I can't see any point in keeping a buffer
<alkorr> by the way, isn't it Linus which has started something about fat32 ?
<alkorr> i lost 3/4 of my works on it and i'm very down to redo all
<Bagder> the web page says Alan, is that you? ;-)
<Zagor> yes, he has some code for it
<alkorr> yes but i did have a crash which causes loss of files which are exceeding 4 KB
<Zagor> ok. we'll reassign that for linus
<alkorr> in fact my fat32 was tighly coupled with ata
<Zagor> so what should I put efter your name, alan? :)
<Bagder> Zagor: you could modify my "planning" to "partly working"
<Zagor> ok
<alkorr> name of your mudule, Badger ?
<Bagder> uisimulator
<alkorr> well i would like to be able to use my serial as i could do before the crash
<alkorr> it would be more easier to test my ATA
<alkorr> if Linus can pass me his source i can adapt or modify it to use ATA
<Zagor> i'll tell him
<Bagder> we want Linus's source in CVS too 
<Zagor> yes
<alkorr> it would speed my work instead of redoing all
<alkorr> ok got it (uisimulator)
<alkorr> cool your headers ;)
<Bagder> it just does one lcd_string() and then it does lcd_update() and it shows the string
<Bagder> hehe, thanks to figlet really
<Zagor> the figlet man :-)
--> linus (~linus@labb.contactor.se) has joined #rockbox
<alkorr> be aware with shift operation
<Bagder> lcd-recorder.c is the recorder-versions, lcd-x11.c is X stuff and lcd.c is generic
<linus> Hi folks
<alkorr> hi linus
<alkorr> ok
<Bagder> hey ho Linus
<linus> I'll dig up my FAT32 source as soon as I get home
<alkorr> you don't plan to have a buffer greater than screen for having vertical or horizontal scrolling on screen ?
* Zagor wants Boulder Dash 8*D
<Bagder> blah, I "plan" all sorts of things, this is not the final complete code
* linus wants Tetris
<linus> and Breakout
<Bagder> this is for setting an api to play with
<Bagder> increasing the buffer is a piece of cake should we want that
<alkorr> well, I2C RTC is quite slow
<alkorr> oh soory
<alkorr> oh sorry, forget what i said
<alkorr> there is no connection with lcd
<alkorr> :)
<Bagder> Gary said he got about 20frames/sec writing fullscreen, that's not too slow I'd say
<alkorr> ok
<alkorr> i just want to be sure there is nothing else which can reduce time
<alkorr> my lcd was written to have the less time between two bits sent
<alkorr> we cannot do it better
<alkorr> (zagor) maybe MAS I2C can be slower in JBR than in JBP because of I2C RTC
<Zagor> maybe
<Bagder> linus: you should bring your gdb efforts to the CVS archive, alkorr wants 'em ;-)
<Zagor> i have some new pictures and shematics for the serial cable. coming up in a minute
<alkorr> well so long as i don't know why my serial doesn't work any longer it wouldn't be helpful
<alkorr> i prefer to send my binary to a person who has a JBP and a working serial to tell me if it works
<linus> I have a working serial
<alkorr> any volunteer ?
<Zagor> well my serial port is toast, unfortunately :-(
<linus> ...but the rest of the archos is fried at the moment...
<alkorr> beuuuuuuh :,((((
<linus> ...but i can use my CPU board in Björns player. That works.
<alkorr> oh good
<linus> I will put the final touch on the stub on my trip to France next week. I'll keep you posted.
<alkorr> okay i will prepare a simple binary which only communicate with serial line (no ata stuff or something which could lead to damage)
<Zagor> uit
<-- Zagor has quit ("Leaving")
<linus> Hehe. I appreciate that...
--> Zagor (~bjst@labb.contactor.se) has joined #rockbox
<linus> Alan, is your serial port damaged or what?
<alkorr> i want to be sure if it is my serial converter or my software which in pains
<linus> Aaah.
<alkorr> it is what i want to know
<alkorr> it worked
<alkorr> ok let me prepare the binary
<wavey> hey linus
<wavey> nice to meet you
<linus> yo!
<alkorr> okay
<alkorr> to whom must i send the binary ?
<Zagor> send it to linus@haxx.se
<alkorr> ok but wait, it looks as if my strings are corrupted... it may be the reason 
<Zagor> ok
<alkorr> anyway i suppose you won't be able to do so now
<alkorr> no i can see on my lcd the string :/
<alkorr> but my terminal doesn't display my string but some "@" can appear sometimes, any clues ?
<Bagder> nope
<alkorr> linus, i send you the first version by dcc send
<alkorr> sorry, Badger you cannot dcc get my files ?
<Zagor> now the rs232 converter is up on the mods page
<Zagor> drawings and the whole shebang
<alkorr> linus and badger : can you dcc get my files ? i should cancel those for Badger
<Zagor> linus is away right now
<Bagder> hm, I think I can receive dcc 
<alkorr> so i retry
<alkorr> 8 files
<Bagder> I've never received files using xchat before, but nothing seems to happen
<Zagor> have you clicked "accept" or something?
<Zagor> i think you need to mark it and accept it
<Bagder> that's "auto accept" and I thought I'd get a question if I don't auto-accept
<Bagder> absolutely nothing happens
<Zagor> odd
<alkorr> try : /dcc get alkorr
<Bagder> that won't work due to my firewall
<alkorr> i retry file by file
<alkorr> instead of sending all file in one time
<alkorr> oh okay
<alkorr> oh yes the firewall
<Bagder> but still, the announcement of the dcc is done using ctcp and that is plain irc so my client should still say something
<alkorr> well i can send to zagor but not receive from zagor, seems to be a similar problem but the main difference is i'm using mIRC on Windows
<alkorr> Badger : for key.h, macros cannot be used with variable as parameter -> key_pressed (ON) OK but key_pressed (key) ERROR
<alkorr> there are just for commodity in developping
<alkorr> i also lost my memory.c which handled a block or bytes allocation (using a similar slab techniques for blocks and bytes allocation in a block)
<wavey> losing your memory.c is a sign of old age
<wavey> or too much weed
<Bagder> lcd_string() bugs :-/
<linus> Alan, what is supposed to happen when running the program?
<Zagor> bagder: alans files are at bjorn.haxx.se/rockbox/jox/
<Zagor> go fetch :-)
<alkorr> oh sorry
<alkorr> ok
<alkorr> well, it displays on the lcd :
<alkorr> <<< JBP >>>
<alkorr> and
<linus> No it doesn't
<alkorr> OK WORKING!
<Zagor> haha
<alkorr> what do you get ?
<linus> It hangs without displaying enything
<alkorr> i repeat what you must have is :
<alkorr> "<<< JBP >>>"
<alkorr> "OK WORKING!"
<alkorr> don't plug you serial at boot
<Zagor> i'm going, guys. see you later.
<alkorr> it doesn't work at this moment, firmware doesn't clean very well
<-- Zagor has quit ("Leaving")
<alkorr> if it doesn't work yet
<linus> all I can see it the "JUKEBOX 6GB bla bla..." and then it hangs
<alkorr> hummm...
<linus> *** back soon ***
<alkorr> oh where do you plug your serail ? on the line-in ?
<alkorr> try to send '0' or '1' to turn on or off backlight
<linus> I have tried that. Nothing happens.
<alkorr> if not, interrupts are ignored and so it got an error (overrun, frame or parity error)
<alkorr> can you dcc get ?
<alkorr> oh by the way did you scramble the bnary ?
<linus> Havenb't tried. Shoot!
<alkorr> you must do it
<linus> I have a tip. Shut off all timer nterrupts: TIERo = 0, TIER1 = 0, etc.
<linus> I didn't scramble it. That must be it. Hang on!
<alkorr> there is not interrupt for sending jsut a polling
<alkorr> but for receiving there is an interrupt (is that way i can turn on or off backlight when receiving '0' or '1')
<linus> ...still dead, even after scrambling
<alkorr> no lcd displaying ?
<linus> Nope
<linus> FYI, I have firmware 3.18
<linus> Try to blink the red LED in the polling loop
<alkorr> hummm, let me create a source package so you can modify and compile it...
<linus> Great!
<alkorr> can you dcc get ?
<alkorr> linus ?
<linus> Yup. Gimme da filez
<alkorr> trouble ?
<linus> "No file offered in SEND mode by alkorr"
<linus> Alan?
<linus> Alan: what is the name of the file?
<alkorr> yes
<alkorr> backup.tgz
<alkorr> and now ?
<alkorr> ok i was trying to send to Zagor :)
<linus> :-)
<alkorr> i move the sit() (enable interrupts) just after sending "Ok WORKING!" 
<alkorr> oops, sti ()
<alkorr> tabs = 2 spaces
<linus> Alan, I have to go now. I will look into your stuff ASAP. CU!
<alkorr> ok i must also to go :)
<-- linus has quit ("Leaving")
<alkorr> bye all !
<-- alkorr has quit ()
<Bagder> lcd_string() works again, time to stop for today
<-- wavey (~wavey@dlan1431.dircon.co.uk) has left #rockbox
**** ENDING LOGGING AT Tue Mar 26 16:43:52 2002

