**** BEGIN LOGGING AT Fri May 10 01:37:30 2002

-->	stile (~adiamas@as5300-9.216-194-23-111.nyc.ny.metconnect.net) has joined #rockbox
---	Topic for #rockbox is Open Source Jukebox Firmware - http://bjorn.haxx.se/rockbox/
---	Topic for #rockbox set by Zagor at Fri Apr 12 09:45:52
---	You are now known as adiamas
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<adiamas>	boo.
<adiamas>	Bagder you around?
<Bagder>	yeps
<adiamas>	wanna test something for me witht he uisim?
<Bagder>	sure
<adiamas>	okay... remove your archos dir under x11
<adiamas>	and then run the sim...
<adiamas>	go to browse
<adiamas>	and try to browse.. tell me what happens
<Bagder>	Segmentation fault (core dumped)
<Bagder>	looks like my fault
<adiamas>	okay.. i have a fix for it.. just no sure you gonna like it.
<Bagder>	x11_opendir() should be fixed
<adiamas>	you need to do a check and make sure your opendir succeeds.. let me get you the line
<Bagder>	right
<adiamas>	want i should toss up my fix?
<Bagder>	I'll fix it
<adiamas>	k
<Bagder>	committed
<adiamas>	i ment to ask.. why arent we using stdlib so we can have NULL
<adiamas>	or define our own NULL
<adiamas>	?
<Bagder>	we should
<Bagder>	just me being lazy
<adiamas>	:)
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<Linus>	Moo!
<Bagder>	boo 
<Bagder>	you digging mp3s now? ;-)
<Linus>	Well, almost
<Linus>	I have some issues with the MP3 bit swapping performancs , but it rocks!
<Bagder>	I can imagine that
<Linus>	I don't like having to bitswap every f**king byte of an MP3 song
<Linus>	It takes time
<Bagder>	no shit? ;-)
<Bagder>	perhaps we can make second read() or something that bitswaps right away when reading
<Bagder>	but perhaps it makes no diff
<Linus>	We should. Or even at ATA level, so we don't even have to store the unswapped bytes.
<Bagder>	yes, that's my thought
<Bagder>	an ata_read_shift() function
<Linus>	And prehaps swap at a word level. That saves us half the time.
<Linus>	...with a 64K table... :-(
<Bagder>	yeah
<Bagder>	but we can generate the table in runtime at least
<Linus>	Yup
<Bagder>	do you know if the recorder will need this swapping too?
<Linus>	I don't think so. It has a parallel interface
<Bagder>	ah, right
<Linus>	Still, the loop I am using today is far from optimal. If we hand-assemble the bitswap loop it shouldn't take much time.
<Bagder>	have you been able to load new parts of the mp3 while one part is playing?
<Linus>	I haven't tried yet. That's my project for tuday.
<Bagder>	you rock
<Linus>	I do my best
<Linus>	Luckily, this is what I'm best at :-)
<Bagder>	:-)
<Linus>	It took me some time to discover that the FAT driver didn't swap the words in the FAT...
<Linus>	And not that much time to doscover that the SWAB32 macro was braindead.
<PsycoXul>	btw, i had a thought the other day.. how does the firmware on the HD effect the charging and how/when it claims to be charged
<Linus>	I don't know. I guess it measures the voltage using the A/D converter.
<Linus>	But it must be somewhat complicated to get a good A/D reference voltage...
<Linus>	Someone with good knowledge of electronics will have to look into this
<adiamas>	icon wise.. i was thinking.. the char maps we have on the website... should those all be mapped?
<Linus>	In the simulator?
<Bagder>	we should get the player ones in for the simulator to look more like a Player
<adiamas>	umm.. by 'player' you mean recorder icons?
<Bagder>	no
<Bagder>	we simulate the player
<Bagder>	but we do that using our own defined charset
<Bagder>	which happens to be the same as we use on the Recorder
<adiamas>	okay, so i should do the player icons first?
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<Bagder>	they are the only ones we more or less need to make a good simulator, yes
<adiamas>	okay...
<Bagder>	the recorder-ones aren't needed, since the Recorder doesn't have them "built-in"
<Bagder>	although some of them might be useful anyway
<Bagder>	it looks as if they made the battery meter using chars... 
<Linus>	hi wavey
<adiamas>	um.. okay. now im confused again...
<adiamas>	1. what do you mean by 'built-in'
<Bagder>	the Player has those characters built-in into the LCD stuff, we can't change them
<adiamas>	okay.. then how do we reference them?
<Linus>	Bagder: The battery icon is not character based. It's specially made on the LCD.
<Linus>	Like the USB icon and a load of others
<Bagder>	adiamas: we send ascii strings to the LCD
<Bagder>	Linus: oh, ok, but there are chartacters looking very much as if made for that purpose
<Linus>	ah. in the recorder?
<Bagder>	Linus: yes
<Linus>	IC. I'm a player guy. :-)
*	adiamas is way lost
<adiamas>	have we worke don those 'char strings' at all?
<Bagder>	adiamas: check out lcd_puts() for the Player LCD 
<Bagder>	we just send a plain string to that LCD
<Bagder>	it isn't graphical at all
*	adiamas shrugs
<Bagder>	they player LCD is simply two lines with 11 letters on each
<adiamas>	nod
<adiamas>	i just don' get how char strings give you the output.
<adiamas>	namely, how we know what string does what
<Bagder>	we pass a string like "abcde"
*	adiamas feels progressively dumber
<Bagder>	the LCD shows that on screen
<adiamas>	well that i get...
<adiamas>	what about file icons
<adiamas>	or battery indicators
<Bagder>	eeh
<Bagder>	there are some fixed "icons" on the LCD
<PsycoXul>	heh
<PsycoXul>	adiamas: those are pre-defined in the LCD
<PsycoXul>	adiamas: we only turn them on or off
<adiamas>	okay.. then with all of this.. will we be defining our own icons at all...
<adiamas>	and if not, why did we start to for the recorder?
<Bagder>	the Recorder supports them very well
<PsycoXul>	icons are just whats defined in the LCD already for the player
<PsycoXul>	then we've got CGROM which contains all char set mapped out already, and CGRAM where we can draw 8 of our own chars
<PsycoXul>	for display on the 2 lines
<Bagder>	... but we don't simulate those Player icons at all yet
<adiamas>	okay.. so for player everything is done...
<adiamas>	now.. what about the recorder?
<PsycoXul>	for the player everything is done on target, but not much simulated
<Bagder>	we should introduce an API for the Player LCD "icons"
-->	calpefrosch (~calpefros@62.52.174.30) has joined #rockbox
<Bagder>	adiamas: actually, I think we should think through how we want the icons and images present on the recorder screen
<adiamas>	presented you mean?
<Bagder>	adiamas: like how the built-in sw always have a number of icons on the screen, whatever screen we view
<adiamas>	well, thats going to be a factor of how we work the menuing
<Bagder>	yes
<Bagder>	hey calpefrosch
<adiamas>	another factor to consider is, if we are going to 'zoom' in on items... ie: increase font size, for the user..
<adiamas>	what happens to the icons then
<Bagder>	right
<Bagder>	there are a few "usability issues" to sort out
<calpefrosch>	hey
-->	Zagor_ (~bjst@labb.contactor.se) has joined #rockbox
<Zagor_>	hey all
---	Zagor_ is now known as Zagor
<Bagder>	moo Zagor
*	Bagder does a cow sound 
<calpefrosch>	hey Zagor
-->	alkorr (alkorr@srs07v-3-250.n.club-internet.fr) has joined #rockbox
<--	alkorr has quit (Client Quit)
<Bagder>	my malloc() is about ready to get added, as soon as we see a need for it
<Linus>	I use newlibs malloc(9 at the moment
<Bagder>	how did you solve the sbrk?
<Linus>	It is included
<Linus>	It uses all space between _end and _stack
<Bagder>	aha
<Linus>	Easy as pie
<Linus>	...after digging in the "documentation" and the sources
<--	wavey has quit (Read error: 104 (Connection reset by peer))
<Bagder>	neato
<Bagder>	blah, the newlib CVS doesn't work
<Linus>	work?
<Bagder>	cvs checkout: cannot open CVS/Entries for reading: No such file or directory
<Linus>	blerk. Why do you need the CVS?
<Bagder>	I don't *need* it, I just hate the word "snapshot"
<Linus>	why do you need the snapshot?
<Bagder>	.... and that's the only alternative
<Bagder>	that is all there is
<Bagder>	never mind
-->	wavey (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<adiamas>	okay folks.. we officially ahve 10 icons to play with for the recorder now
<Zagor>	heyyyy, wavey
<Zagor>	adiamas: nice
<wavey>	howdy :)
<adiamas>	we now have the file on that was there, plus folder, open box, filled box, the triangle selector and some other stuff...
<Linus>	Bagder: I looked at their FTP. Loads of newlib releases. Where are you looking?
<Bagder>	"Source snapshots are available as gzipped tar files via anonymous FTP from the newlib ftp directory."
<Bagder>	yes there're there
<Linus>	Well, that is not entirely true. The have release archives as well.
<Bagder>	the CVS still doesn't work ;-)
<Bagder>	and their ftp server is full
<Linus>	Actually, that is only what they have. They don't have snapshots. :-)
<Linus>	How large is your mailbox?
<Bagder>	they don't actually say that they are releases anywhere
<Bagder>	therefor, I assumed they are the snapshots they mentioned
<Linus>	ftp://sources.redhat.com/pub/newlib/newlib-1.10.0.tar.gz
<Bagder>	"Sorry, the ftp server has too many active ftp connections (30/30)."
<Bagder>	...
<Bagder>	worked now
<Bagder>	I'd still prefer the CVS version ;-)
<Linus>	Yeah. I don't. God knows what they have checked in recently.
<Bagder>	coward ;-)
<Linus>	I just played Machinae Supremacy right off the hard drive
<Bagder>	yay
*	Zagor cheers
<Zagor>	"and there was much rejoicing"
<Linus>	"it's just a model"
<Bagder>	"let's not go there, its a silly place"
<Linus>	"Play-a-lot"
---	Linus is now known as Sir
---	Sir is now known as Sir-Play-a-lot
---	Sir-Play-a-lot is now known as Linus
<adiamas>	how wide and tall is the recorder in pixels?
<Bagder>	112 x 64
<adiamas>	ty
<Bagder>	LCD_WIDTH and LCD_HEIGHT in lcd.h
---	Zagor is now known as Zagor|lunch
---	Linus is now known as Linus|lunch
<wavey>	this archos recorder is pissing me off
<wavey>	faulty as hell
<wavey>	used to reset in battery mode only, now it does it in dc too
<Bagder>	ough
*	wavey contemplates returning it
---	Zagor|lunch is now known as Zagor
---	Linus|lunch is now known as Linus
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<Linus>	YOOOO!
<Linus>	Just listening to Machinae Supremacy, from the hard drive. The whole song!
<Zagor>	so what happens when the song ends? ;)
<Linus>	Don't know yet. We'll see in about 8 minutes... :-)
<Zagor>	you r00lz :)
<calpefrosch>	hi
<Linus>	Yo!
<calpefrosch>	for the mp3-player in win32, can we use an Active X ?
<calpefrosch>	I didn't found anything for native playing yet
<Linus>	I don't know. Win32 isn't exactly my ball game.
*	calpefrosch have to go to a meeting :-(
---	calpefrosch is now known as calpefrosch|away
<Linus>	The ATA/FAT read is surprisingly slow...
<Linus>	It takes a while second for 128K...
<Linus>	whole
<Zagor>	odd
<Linus>	The -O switch cured that pretty well...
<--	calpefrosch|away has quit (Read error: 104 (Connection reset by peer))
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<Linus>	welcome!
<Zagor>	ah, so now it's fast?
<Linus>	yes it is
<Linus>	But i think it can be faster
<Linus>	Damn. The DMA IRQ didn't recognize the end of the song when the last loaded chunk wrapped in the buffer...
<Zagor>	how come?
<Linus>	A negative unplayed_space_left variable (write - read < 0)
<Linus>	Otherwise it works cool as hell!
<Linus>	Version 1.0 is coming closer and closer!
<Zagor>	ninjax!
<Linus>	"...I wanna fell like that agin..." lalala
<Linus>	Machinae Supremacy rocks!
<Zagor>	wavey: what was your purpose with disk.c/h again? it's colliding with common/disk.c/h
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Zagor>	heyy, bagder. we need to start working on a player ui asap
<Zagor>	where do I start?
<Zagor>	(in the simulator, I mean)
<Bagder>	I was hoping we'd get the the one the other guy was working on... but...
<Bagder>	Zagor: edit the Makefile to build a Player simulator
<Zagor>	I did. but nothing happens when I start it
<Bagder>	no window with silly text in it?
<Zagor>	no, just empty. I only redefined $(DISPLAY), but that should be enough right?
<Bagder>	yes
<Bagder>	lemme see
<Zagor>	umm, wai
<Zagor>	t
<Zagor>	it's the x11/Makefile I need to change, nothing else?
<Bagder>	yes
<Bagder>	make clean and make
<Zagor>	yup
<Bagder>	I get text in my window
<Zagor>	I don't
<Bagder>	move it then, or put a window over it a while or something to get an event
<Zagor>	ahh
<Zagor>	now I got the text
<Bagder>	:-)
<Bagder>	I've seen that happen before, I'm not sure why this happens though
<Bagder>	X11 magic stuff
<Zagor>	ok, I'll add player support to tree.c
<Bagder>	goodie
<Bagder>	"<wannabeuihacker> I added the menu functions and got a menu system for the player"
<Zagor>	ok, good
<Bagder>	but I never got any
<Zagor>	ok
<Zagor>	hmm, maybe we should have a lcd_setfont() call instead of a font parameter to lcd_puts(). as it is now, I have to #ifdef all puts() calls just because of this
<Bagder>	the coordinates are different too
<Zagor>	uh, right. I'm a fool :)
<Bagder>	:-)
<Bagder>	setfont() might be good anyway
<Zagor>	the bad thing is it introduces "state information"
<Bagder>	yes, but it would reduce a large amount of passed zeroes...
<Zagor>	yup
-->	alkorr (alkorr@srs02m-7-99.n.club-internet.fr) has joined #rockbox
<--	alkorr has quit (Excess Flood)
<Zagor>	hmmm, idea: we make a lcd_setfont() and a lcd_setmargins() call. then lcd_puts() can use x,y "char position" for both player and recorder
-->	alkorr (alkorr@srs02m-7-99.n.club-internet.fr) has joined #rockbox
<Zagor>	that would make much code identical
<Bagder>	sounds pretty good
<Bagder>	would even make "zooming" work
<Zagor>	yeah
<Bagder>	when setfont()ing a larger font
<Zagor>	good point
<Zagor>	we should have both "charpos" and "bitpos" calls. what do we call the "bitpos" call? putsxy is not very obvious...
<Bagder>	I vote for that anyway
<Zagor>	yeah, that's what I'm having right now :)
<elinenbe>	Im having a turkey roast !)
*	Bagder jumps, elinenbe is alive ;-)
<elinenbe>	I am alway here.
<elinenbe>	I am always here
<Bagder>	Zagor: are you planning to move the apps to the apps dir?
<Zagor>	yup
<Linus>	Gotta go!
<Bagder>	bye Linus
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<alkorr>	cu
<alkorr>	too
<--	alkorr has quit ()
-->	wavey_ (~wavey@dlan1431.dircon.co.uk) has joined #rockbox
<--	wavey has quit (Read error: 104 (Connection reset by peer))
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<Zagor>	the player dir browser is now working
<Zagor>	oops, left a debugf()
<Zagor>	well, I've got to go. see you!
<--	Zagor (~bjst@labb.contactor.se) has left #rockbox
<--	wavey_ (~wavey@dlan1431.dircon.co.uk) has left #rockbox
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Tumm has quit (Read error: 113 (No route to host))
-->	Tumm (coyote@dreamhosted.borlange.se) has joined #rockbox
---	You are now known as adi|home
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
<elinenbe>	rock on!
<--	elinenbe has quit ("ChatZilla 0.8.6 [Mozilla rv:1.0.0+/20020507]")
<--	wavey has quit (Read error: 110 (Connection timed out))
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
-->	linuxstb (dave@dsl-212-23-31-215.zen.co.uk) has joined #rockbox
-->	quiquee (~quique@217.8.196.173) has joined #rockbox
<linuxstb>	Good evening all.  Anyone feel like talking rockbox?
<quiquee>	good evening
<--	wavey has quit (Read error: 110 (Connection timed out))
<adi|work>	linuxstb sure.. whats up?
<linuxstb>	I've just incorporated the libmad source into the uisimulator directory and was wondering whether to commit it.
<adi|work>	ahh.. right.. saw your email :)
<adi|work>	well... id say hold off until Zagor or Bagder could give you a proper answer.
-->	wavey (~wavey@host-54.valtech.co.uk) has joined #rockbox
<linuxstb>	adi|home: that is what I was going to do.
<adi|work>	:)
<--	wavey has quit (Read error: 104 (Connection reset by peer))
<--	quiquee has quit ("Leaving")
<linuxstb>	bye.
<linuxstb>	\exit
<--	linuxstb has quit ("using sirc version 2.211+KSIRC/1.0")
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<adi|work>	sob....
<--	elinenbe has quit ("ChatZilla 0.8.6 [Mozilla rv:1.0.0+/20020507]")
-->	linuxstb (dave@dsl-212-23-31-215.zen.co.uk) has joined #rockbox
-->	calpefrosch|away (~hotrana@p5082C10B.dip0.t-ipconnect.de) has joined #rockbox
<linuxstb>	Hello calpefrosch
-->	alkorr (alkorr@srs03v-1-174.n.club-internet.fr) has joined #rockbox
<--	alkorr has quit (Client Quit)
<calpefrosch|away>	hi
---	calpefrosch|away is now known as calpefrosch
<linuxstb>	I've started implementing a mpeg playing thread in the x11 simulator
<linuxstb>	Someone should try and mirror my development in the win32 simulator!
<calpefrosch>	yes, I have seen some code. Do you use the libmad code ?
<linuxstb>	Yes. I have also started to use pthreads - I'm not sure if that is good or bad
<--	calpefrosch has quit (carter.openprojects.net irc.openprojects.net)
<--	adi|work has quit (carter.openprojects.net irc.openprojects.net)
-->	calpefrosch (~hotrana@p5082C10B.dip0.t-ipconnect.de) has joined #rockbox
-->	adi|work (~adiamas@pool-151-204-140-140.ny325.east.verizon.net) has joined #rockbox
<--	calpefrosch has quit ()
<--	linuxstb has quit ("using sirc version 2.211+KSIRC/1.0")
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
-->	calpefrosch|away (calpefrosc@p5082C10B.dip0.t-ipconnect.de) has joined #rockbox
-->	Linus (~linus@labb.contactor.se) has joined #rockbox
<--	calpefrosch|away has quit (Read error: 110 (Connection timed out))
<--	elinenbe has quit ("ChatZilla 0.8.7 [Mozilla rv:1.0rc2/20020510]")
<adi|home>	linus you around?
<Linus>	Now I am
<adi|home>	k...
<adi|home>	umm.. not sure, but you may want to talk with linuxstb
<adi|home>	<linuxstb> I've started implementing a mpeg playing thread in the x11 simulator
<adi|home>	<linuxstb> Someone should try and mirror my development in the win32 simulator!
<adi|home>	<calpefrosch> yes, I have seen some code. Do you use the libmad code ?
<adi|home>	<linuxstb> Yes. I have also started to use pthreads - I'm not sure if that is good or bad
<adi|home>	he wants to add the libmad to the source tree, but hasn't gotten an answer from anyone...
<adi|home>	he says its appx 900k
<Linus>	Well. What is this libmad thing?
<Linus>	Gotta sleep. Night!
<--	Linus (~linus@labb.contactor.se) has left #rockbox
<--	PsycoXul has quit (Read error: 104 (Connection reset by peer))
-->	PsycoXul (psyco@adsl-63-205-40-140.dsl.lsan03.pacbell.net) has joined #rockbox
---	Disconnected (22).
**** ENDING LOGGING AT Sat May 11 23:45:05 2002
