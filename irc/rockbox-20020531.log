**** BEGIN LOGGING AT Wed May 29 23:40:11 2002

-->	adiamas (~adiamas@as5300-9.216-194-23-46.nyc.ny.metconnect.net) has joined #rockbox
---	Topic for #rockbox is Does your box rock? http://bjorn.haxx.se/rockbox/
---	Topic for #rockbox set by Bagder at Mon May 13 04:46:28
---	You are now known as adi|home
<irony|zzz>	http://www.teilar.gr/~h2527/
<irony|zzz>	mornin
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<PsycoXul>	ok so why is bmp.h being included somewhere for a player build?
<PsycoXul>	and whats up with snprintf conflicting types?
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Bagder>	mooo
<irony|zzz>	heya there bäddur
<irony|zzz>	nice to see you
<irony|zzz>	Do you have power heh
<Bagder>	*I* have
<irony|zzz>	or is it black in kista
<irony|zzz>	:-P
<irony|zzz>	contactor takes a day off?
<Bagder>	Kista is pretty black, yes
<Bagder>	I'm at a customer south of stockholm
<irony|zzz>	i see
<irony|zzz>	talked to a friend working at nordnet (teletrade)
<irony|zzz>	they suffered some probs
<irony|zzz>	but they managed to get their fiber online
<irony|zzz>	jus tnow
<Bagder>	they in kista?
<irony|zzz>	good for them, stock exchange is opening in 2 minutes, isn't it
<irony|zzz>	yup
<irony|zzz>	they just got the servers online like 1 minute ago
<irony|zzz>	they supposedly moved there not long ago
<irony|zzz>	if i remeber it right
<irony|zzz>	nice company, lot of heavy machines =)
<Bagder>	hm, well I bet no one is at our office at this time anyway
<irony|zzz>	=)
<irony|zzz>	I hope I'll move to sthlm in august
<irony|zzz>	and hopefully find some job there
<irony|zzz>	I don't think it can be too hard.
<irony|zzz>	Well w/o any work experience it's not allt hat easy, but I do hope my degree will be work something
<Bagder>	I'll cross my fingers for you
<irony|zzz>	thx :)
<irony|zzz>	well time fo rme to sleep now, I've had a REALLY rough night
<irony|zzz>	had like 30-35 ppl in the shopa t the same time
<irony|zzz>	all drunk, all wanting hot dogs
<Bagder>	haha
<Bagder>	what shop is this?
<irony|zzz>	2 hours of extreme stress between 1:30-3:30
<irony|zzz>	gas station actually, shell.
<Bagder>	aha
<irony|zzz>	we're open 24/7,a nd i do the night shift this week, covering for another emoployee
<irony|zzz>	its a shitty job but i need osmething to make some money for summer vacation
<irony|zzz>	and also, this makes you appreciate you decided to get a masters degree
<irony|zzz>	heh
<Bagder>	I figure that
<irony|zzz>	but it's nice in some strange way...
<irony|zzz>	you get into the work of ordinary people...factory workers, newspaper drivers, taxidrivers
<irony|zzz>	into their world
<irony|zzz>	I find that fascinating...for some reason
<irony|zzz>	People that don't think too much about things that aren't concrete...they just live on.
<irony|zzz>	Bah, Iäm ghetting to philosophic, even though I do have a point with this.
<irony|zzz>	time to sleep
*	irony|zzz is gone, zzz [l/on p/on]
<irony|zzz>	later
<Bagder>	see ya
<--	elinenbe has quit ("ChatZilla 0.8.7 [Mozilla rv:1.0rc3/20020523]")
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
<--	irony|zzz has quit (" <k!15b8>")
<--	elinenbe has quit (Client Quit)
-->	elinenbe (trilluser@bgp01080511bgs.wanarb01.mi.comcast.net) has joined #rockbox
---	ChanServ gives channel operator status to Bagder
---	Bagder has changed the topic to: web site down due to power blackout
<PsycoXul>	so yeah how about the current cvs
<PsycoXul>	first i get errors about not finding bmp.h (and i'm trying to build for a player!) and then snprintf conflicting types
<Bagder>	hm
<PsycoXul>	the bmp.h thing is in main_menu.c
<Bagder>	I see it too now
<Bagder>	it breaks all over
<PsycoXul>	heh
<adi|home>	yeah.. i had the snprintf complaint today..
<Bagder>	I fix
<Bagder>	try now
<PsycoXul>	its good now
<Bagder>	good only recorder builds break now ;-)
<Bagder>	.. and now that builds too
<PsycoXul>	hmm 
-->	Zagor (~haxx@Job.elit.net) has joined #rockbox
<Bagder>	woo
<Zagor>	hi there
<Bagder>	a different Zagor ;-)
<PsycoXul>	ok well it looks like that changes in CGRAM get reflected in already-printed characters on the screen
<Zagor>	yeah, this blackout forces creative solutions :)
<PsycoXul>	i mean the custom chars change as soon as you change them :/
<Bagder>	Zagor: let me know if you wanna use my home machine for anything creative ;-)
<Zagor>	bagder: can you set me up a ssl tunnel?
<Zagor>	brb
<--	Zagor has quit (Client Quit)
-->	Zagor (~haxx@Job.elit.net) has joined #rockbox
<Zagor>	has anyone found any bugs the last 12 hours?
<Bagder>	yes
<Zagor>	what?
<Bagder>	edx broke the build
*	Zagor smacks edx
<Bagder>	hehe
<Zagor>	what did he do?
<Bagder>	#include "bmp.h"
<Zagor>	buh
<Zagor>	oh well
<Bagder>	and I fixed the snpritnf() proto
<Bagder>	as that caused confusion too
<PsycoXul>	ok i've got 3 different dirs that the first 10 chars of are the same
<PsycoXul>	2 of which the first 11 chars are the same
<Zagor>	psycoxul: tough :)
<PsycoXul>	and i can't tell them appart in the browser, but worse is i can't tell them appart by their contents which should be different
<PsycoXul>	1 of them i can tell appart from the other 2
<PsycoXul>	but then the other 2 i can't
*	adi|home has no idea what PsycoXul is talking about
<PsycoXul>	those 2 also appear right next to each other in the browser
<Bagder>	adi|home: it's rockbox on a player target talk ;-)
*	adi|home perks up
<adi|home>	sweet...
<adi|home>	but im sorry. i refuse to shell out another 200$ just to get a player so i can keep up with you folks ;)
<Bagder>	boooo ;-)
<adi|home>	you could always send me one of those donated units ;)
<Bagder>	I'd go for a donut unit too :-P
*	Bagder needs coffee
<adi|home>	that would go with your 'donut unit ' ;)
-->	bjst_ (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<adi|home>	hmmm.. minor bug here...
<bjst_>	hey there
<adi|home>	need to look into that.
<--	Zagor has quit ("Leaving")
---	bjst_ is now known as Zagor
<Bagder>	hm, now I have to move my mp3 stream to another port...
<Bagder>	:-)
<adi|home>	maybe that someting we need ;)
<adi|home>	a common mp3 repository for all of us ;)
<Zagor>	Bagder: hehe
*	adi|home pokes Bagder
<adi|home>	you need to get me and ip and port so i can downsuck at work ;)
<Bagder>	Zagor: I'll run it tunneled through ssh ;-)
<Bagder>	downsuck ?
<adi|home>	downsuck: (v) to download at a high rate for the purposes of later consumption.
<Bagder>	ah
<adi|home>	[ie: 'Bob downsucked 30gigs of music that he had never heard of just in case he would want it later.']
<adi|home>	:)
<Bagder>	I don't want my poor machine and connection get choked by maniacs downloading mp3s ;-)
<adi|home>	hehehe
<adi|home>	what conneciton you on?
<Bagder>	adsl, 2.5mbit down, 700kbit up
<adi|home>	bahh.. your just fine ;)
*	adi|home pokes Bagder 
<adi|home>	come'on.. share
<adi|home>	ya know you want to
*	adi|home inserts gross amounts of peer pressure
<Zagor>	adi|home: you don't want bagder's music anyway :)
<adi|home>	why not?
<adi|home>	:)
<Bagder>	haha
<adi|home>	i have yet to find music i won't listen to :)
<adi|home>	rap
<adi|home>	country
<adi|home>	blue grass
<adi|home>	techno
<adi|home>	rock
<adi|home>	punk
<adi|home>	blues
<adi|home>	showtunes
<adi|home>	p0rn
<adi|home>	classical
<adi|home>	its all good :)
<Zagor>	it's none of the above. i'll say no more...
<adi|home>	hehehe
<Bagder>	I do have *some* of the above too
<PsycoXul>	why's lcd_write() and related macro's only defined in lcd.c and not usable directly from an app?
<adi|home>	Armagedon Dildos?
<adi|home>	wtf
<Zagor>	PsycoXul: 'cause they're not part of the API. define a high-level function to do the job.
<Bagder>	PsycoXul: I think that's because we've aimed at a somewhat higher level api for the applications
-->	Zagor_ (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Zagor_>	tadaaa
<--	Zagor has quit ("Client Exiting")
---	Zagor_ is now known as Zagor
<Zagor>	ssl tunnels rock
<Bagder>	well, it isn't really ssl ;-)
<Zagor>	nah, but it's the ssl port :)
<Bagder>	right
<Zagor>	so, where were we? edx broke the build? who broke edx? ;-D
*	adi|home kicked edx in the nuts.. that count?
<Bagder>	I fixed the build
<Zagor>	ok, good
<adi|home>	how expensive a call is lcd_update?
<Bagder>	adi|home: Gary once mentioned he could get 20 fps using that
<adi|home>	ummmm.. is that good or bad?
<Bagder>	but I guess he did more than just updating too then ;-)
<adi|home>	im just noticing we do alot of:
<adi|home>	function() 
<adi|home>	function()
<adi|home>	lcd_update()
<adi|home>	return
<adi|home>	other_function()
<adi|home>	lcd_update()
<Bagder>	right, that is not good
<adi|home>	where the second call only makes a minor change over the first
<adi|home>	i thought so
<Bagder>	we could possibly remake things to only do lcd_update() just before we await a keypress
<PsycoXul>	hmm
<adi|home>	dunno if i like that or not...
<PsycoXul>	what shifts the words over 1 char for the cursor on the player
<PsycoXul>	i thought just the printing of the '-' was doing it but its not heh
<adi|home>	i don't think we have a function for that...
<PsycoXul>	in tree.c i mean
<adi|home>	i don't get what you mean then
<PsycoXul>	do you have a player?
<adi|home>	you mean the alignment of the 1char in the col?
<adi|home>	nope.. recorder
<PsycoXul>	well
<PsycoXul>	heh
<PsycoXul>	but basically i mean
<adi|home>	but the display in that sense should be the same
<PsycoXul>	its '-Stuff'
<PsycoXul>	and if i get rid of the - printing entirely its still ' Stuff'
<adi|home>	okay.. and what do you want?
<adi|home>	'Stuff'?
<PsycoXul>	yes
<adi|home>	because the '-' is your cursor
<adi|home>	so you want:
<adi|home>	-Stuff
<adi|home>	 other stuff
<adi|home>	to be
<adi|home>	Stuff
<adi|home>	other stuff
<adi|home>	?
<PsycoXul>	yes
<adi|home>	how do you kno which one your selecting then?
<PsycoXul>	because we don't need - as a cursor on the player, it has a cursor of its own that reverses the text
<PsycoXul>	and it doesn't need to take up a space
<adi|home>	ahhh.. okay..
<adi|home>	got ya
<adi|home>	one sec, let me look
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<PsycoXul>	ok
<PsycoXul>	i see it
<PsycoXul>	#define LINE_X      1 /* X position the entry-list starts at */
<PsycoXul>	heh
*	adi|home nods
<adi|home>	but make sure you #define around it
<adi|home>	the recorder does need a cursor
<PsycoXul>	yeah
<PsycoXul>	well i'm just testing stuff atm
<adi|home>	okay.. i got it..
<PsycoXul>	i still need to see if i can make that cursor show up and not blink
<adi|home>	just set the LINE_X to 0
<PsycoXul>	yeah
<adi|home>	and: line 116
<adi|home>	or there in abouts
<adi|home>	lcd_putsxy
<adi|home>	put that inside the #ifdef below it
<adi|home>	before the lcd_update
<PsycoXul>	hmm
<PsycoXul>	what?
<adi|home>	okay.. go to tree.c
<PsycoXul>	lcd_putsxy's just for the recorder
<PsycoXul>	i'm not touching anything with that
<adi|home>	doh.. wrong line.. hold on
<adi|home>	check line 173
<adi|home>	see the lcd_puts after it?
<PsycoXul>	i've already gone through all those
<adi|home>	put _that_ inside the #ifdeff below it
<adi|home>	nods
<PsycoXul>	there's way too many places that say to put the "-" on there, but i already changed them all :p
<adi|home>	heheh k
<PsycoXul>	hmm
<PsycoXul>	i can't get the cursor to show without it blinking
<PsycoXul>	and its off half the time when its blinking heh
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
*	PsycoXul will mess with it more later... tea and movie now
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Linus>	Yo!
<Bagder>	hej linus
*	Zagor is dogfooding today
<Linus>	I'm glad I don't live in the northwest part of Stockholm
<adi|home>	the menu on the recorder.. is it supposed to wrap hen you hit top or bottom?
<adi|home>	or do we just stop?
<Zagor>	just stop
<Zagor>	i removed the wrap yesterday
<adi|home>	okay..
<adi|home>	then i just fixed the recorder menu..
<Zagor>	it was bugging, and became rather confusing on the 2-line player
*	adi|home nods
-->	alkorr (alkorr@srs01v-7-102.n.club-internet.fr) has joined #rockbox
<alkorr>	Hello
<Zagor>	hi alan!
<Linus>	yo!
<Linus>	major power blackout. our site is down
<Zagor>	very ironic, since I really feel 1.0 is release ready
<adi|home>	hehe i noticed
<alkorr>	arf
<adi|home>	do we have any idea of this release works on the recorder or not?
<Zagor>	maybe it's a conspiracy instigated by archos? ;)
<Zagor>	it doesn't. the ata code isn't right
<adi|home>	k...
<adi|home>	btw.. have we given any thought to rolo yet?
<adi|home>	on the menu, when you hit Version, whats supposed to happen?
<Zagor>	tought, yes. code, no
<adi|home>	heheh k
<adi|home>	what are your thoughts on it?
<Zagor>	version show the firmware version number and waits for a keypress
<Zagor>	rolo should work much like lilo on linux
<adi|home>	um, well version on the recorder just shows 'CVS' 
<adi|home>	im trying to figure out why the splash doesn't display right now
<Zagor>	yeah, that's the version right now :)
<adi|home>	heheh k
<Zagor>	i've removed the delay from the splash. i forgot it was used in the menu too.
<adi|home>	ahhh...
<adi|home>	k..
<Bagder>	adi|home: that version string is generated by the release tarball script
*	adi|home nods
<adi|home>	that makes sense
<adi|home>	no fair, your using logic
<Zagor>	hehe
<Bagder>	so if you'd build from a daily build tarball, you'd see a different version in there
<alkorr>	Zagor: the ata code isn't right ?
<adi|home>	Zagor: where was the delay you removed initially?
<Zagor>	alkorr: it fails for the recorder, for some reason
<Zagor>	adi|home: it was in show_splash()
<Zagor>	i removed it since I made splash appear during init instead of before
<adi|home>	hmmm.. k
<alkorr>	have a look on it Zagor
<adi|home>	well.. it doesn't really display at all now because of the sim ;) but i assume on a recorder or player it would
<Zagor>	adi|home: yes it does
<adi|home>	yes it does?
<adi|home>	meaning it will on the player?
<Zagor>	it shows on target
<adi|home>	k.. thats what i thought :L)(
<adi|home>	:)
<Zagor>	init takes about a second on the player, and about 3ms in the simulator :)
<adi|home>	hehe
<alkorr>	it doesn't read at all ?
<Zagor>	ata_init() fails with -4
<Bagder>	alkorr: it stops at "ata: -4"
<alkorr>	freeze lock ?
<Zagor>	yup
<alkorr>	no apparent locking ? i mean when accessing via a PC ?
<Zagor>	no we haven't seen a lock in a long time now
<Bagder>	using with usb works fine
---	Tumm^Awej is now known as Tumm
<alkorr>	and if you comment the freeze_lock ?
<adi|home>	okay, you can now see the splash screen from the menu
<Zagor>	alkorr: haven't tried that
<adi|home>	Zagor, i fixed main.c
<adi|home>	it now references show_logo
<adi|home>	not show_splash
<Zagor>	ok, you fixed main_menu.c+h too?
<adi|home>	show_splash has a delay in it, show_logo doesnt
<adi|home>	only main_menu.h
<adi|home>	.c rather
<alkorr>	you should put -1 before command and -2 after command completion
<Zagor>	we need it in the header file or we'll get ab ugly compiler warning
<Zagor>	alkorr: how do you mean?
<adi|home>	need what?
<Bagder>	adi|home: we could make the "version" display show the logo above the version string, would look cool ;-)
<Zagor>	alkorr: ah in freeze_lock() you mean?
<adi|home>	that i can do :)
<Zagor>	adi|home: declaration of show_logo()
<adi|home>	Zagor: it was already that
<adi|home>	show_splash called show_logo
<adi|home>	originally
<Bagder>	zagor and linus, we should work away the compiler warnings
<alkorr>	more generay
<adi|home>	show_splash is called in the menu function pointer
<Zagor>	no, just show_splash. if main.c now calls show_logo instead, the .h needs to be changed
*	adi|home is now totally confused
<adi|home>	menu.h makes not reference to show_splash or show_logo
<adi|home>	main_menu.h only needs to know about show_splash
<adi|home>	so all should be well
<alkorr>	oh i have an idea ! the original recorder firmware maybe execute freeze_lock() so you cannot do twice !
<alkorr>	i don't another explanation for the moment
<Zagor>	ahh, yes that's quite possible
<alkorr>	i'm pretty sure about this
<adi|home>	Bagder: ill get the version to display the splash screen tomorrow.. im off to bed...
<adi|home>	night all
<Bagder>	night adi
<Zagor>	night!
<alkorr>	which version of newlib you use for rockbox ?
<Bagder>	1.10
<alkorr>	gluuup 3 MB... :(
<Bagder>	yeah :-/
<alkorr>	hope it will compile fine after downloading it
<Bagder>	3MB package for some very few functions
<Bagder>	(that we use I mean)
<alkorr>	i thought you wanted to get rid of it...
<Bagder>	it wouldn't be very hard to get rid of it now
<alkorr>	quite now i want to compile rockbox :/
<alkorr>	in fact it is only some file in app which are eager of newlib
<Bagder>	no
<Bagder>	strncmp, strncpy, strlen, memcpy etc
<Bagder>	they're used all over
<alkorr>	oh yeah it fails for app before the other directories
<Bagder>	ah yes
<alkorr>	recorder works now with ATA ?
<alkorr>	by the way which version of gcc do you use ?
<Bagder>	I use 3.0.3 for the cross compile
<Zagor>	alkorr: i'll test the recorder now
<alkorr>	k
<alkorr>	a question arises : if some arch*s firmware freezes the lock, we need to check after command failure if it is because the lock is always froozen to be correct
<Bagder>	is the mpeg thread suitably disabled on the recorder?
<alkorr>	well i read the ATA document
<alkorr>	it is said that "Frozen mode is disabled by power off or
<alkorr>	hardware reset. If SECURITY FREEZE LOCK is issued when the device is in Frozen mode, the command
<alkorr>	executes and the device remains in Frozen mode.
<alkorr>	not a good news
<alkorr>	oh it seems you don't issue a hardware reset even if the function is here
<alkorr>	"The device shall return command aborted if the command is not supported, or the device is in Locked
<alkorr>	mode.
<alkorr>	it doesn't mention there is an error if already frozen :/
<Bagder>	mp3 streaming through a ssh tunnel really doesn't work well
<Bagder>	for some odd reason
<alkorr>	ok, SECURITY_FREEZE_LOCK is a non-data protocol
<alkorr>	which means it issues an interrupt at completion
<alkorr>	so be sure to disable interrupt before (i suppose it is so)
<alkorr>	what is the main file ?
<Zagor>	apps/main.c
<Linus>	system_init disables all IRQ, and then we enable only those we actually use
<Linus>	and we don't use the ATA IRQ
<alkorr>	i see that
<alkorr>	but when you will use it, beware
<alkorr>	what i mean you did nIEN after two non-data command
<alkorr>	whereas it should be before
<alkorr>	it doesn't change anything quite now but still a mistake :)
<alkorr>	well, success ?
<Zagor>	well it doesn't say ata: -4, but it doesn't say anything else either :)
<Linus>	dead
<Bagder>	ouch
<alkorr>	try another command instead of freeze... just to say if ata controler is failing
<Zagor>	i'll try removing the splash
<alkorr>	uh you try to see if it exist a slave ?
<Linus>	yes
<alkorr>	so when you enter freeze, you are selecting slave ?
<alkorr>	unless freeze works for both...
<Linus>	both?
<Zagor>	we are selecting master or slave first, then perform commands
<Linus>	since the drive may be strapped as slave, we must determine that first
<alkorr>	yes because you leave DEV at the slave when you call freeze
<alkorr>	ah ok
<alkorr>	it is MASTER xor SLAVE
<alkorr>	if a master is found, we don't look for a slave
<alkorr>	sorry :)
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	alkorr has quit ()
<Bagder>	popping off like flies ;-)
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Zagor>	whoa. kernel panic!
<Bagder>	really?
<Linus>	Lame USB driver
<Zagor>	yup. usb isn't quite bug free :)
<Bagder>	hehe
<Bagder>	nasty
<Bagder>	and its not even usb2?
<Linus>	plain usb1.1
<Bagder>	did you see edx screendump of the win32 simulator?
<Bagder>	edx's
<Zagor>	no
<Bagder>	http://codeforce.d2g.com/rockbox/w32sim.jpg
<Bagder>	kinda neat-looking
<Bagder>	compared to the x11 one ;-)
<Linus>	Zagor has real problems with the USB driver...
-->	RKK60 (OKE60@pD9EAB9DE.dip.t-dialin.net) has joined #rockbox
---	RKK60 is now known as edx
<Linus>	HELO
<Bagder>	hey edx
<edx>	hi
<Bagder>	edx: you should take bigger care not to break the builds
<Zagor>	lunch time
---	Zagor is now known as Zagor|lunch
---	Linus is now known as Linus|lunch
<Bagder>	all three broke
<edx>	oh.. what did i do?
<edx>	ahhhhhhhhhhhhhhhh
<Bagder>	you added an include of "bmp.h"
<Linus|lunch>	WRONG, that's what you did! :-)
<Bagder>	that doesn't exist
<edx>	ohoh.. sorry
<Bagder>	and should only ne included for recorder
<edx>	but i need that one.. (and you should too) because teh bmp_read function is not defined otherwise
<Bagder>	for the recorder, yes
<Bagder>	you made it unconditional
<edx>	ok.
<edx>	i am very sorry. i have not thought that far...
<edx>	did you fix anything yet - or shall I do now?
<Bagder>	I'm only telling you so that you can be slightly more careful next time
<Bagder>	I've fixed those things
<edx>	i will.
<Bagder>	it builds fine for all targets now
<Bagder>	gah
<Bagder>	it did
<Bagder>	not anymore
<edx>	what's the problem now..
<Bagder>	adiamas latest patch
<edx>	it builds for windows though
<edx>	what did he do?
<edx>	(btw.. i brought dir size to 144kb.. that should be ok, shouldn't it?)
<Bagder>	forgot to commit a change I suspect
<Bagder>	certainly, that's fine
<edx>	is that file used by the simulator (i dont get any errors)
<Bagder>	no it's in target-only code
<edx>	the target code.. does it work? like how much can you do already?
<Bagder>	it works for the player
<Bagder>	there's still some ata issues on the recorder
<edx>	ah..
<edx>	it plays mp3s already?
<Bagder>	yes
<edx>	cool :)
<edx>	we should implement a search possibility btw..
<edx>	to search a directory (or the whole hd)
<Bagder>	we should implement a lot ;-)
<edx>	true. :)
<--	elinenbe has quit (Read error: 104 (Connection reset by peer))
<Bagder>	the good part is that we can already write most of the code and try it in the simulators
<Lion>	Hey everybody.  Anyone fix the loop-de-loop character bug?
<Bagder>	Zagor said he believed he did
<Lion>	Cool
<Bagder>	then the big bad power blackout fell upon us
<Lion>	Oh
<Bagder>	so there's no daily builds and stuff available
<Lion>	That's why the thing is down.
<Bagder>	yeah
<Bagder>	there's been a fire in some cables, the whole area went black
<Bagder>	I could offer you a binary if you feel like giving it a go ;-)
<Lion>	Sure, in a min... :)
<Bagder>	http://storebror.haxx.se/archos/
---	Bagder is now known as Bagder|food
---	edx is now known as edx|homework
---	Linus|lunch is now known as Linus
---	Zagor|lunch is now known as Zagor
<Lion>	Anyone know how PsyKul's test went?
<Zagor>	yes
<Lion>	And?
<Zagor>	the characters changed on-screen
<Lion>	FUCK
<Zagor>	so the trick doesn't work
<Lion>	Damn.
<Lion>	Well, I'll need to come up with a more complex alg.
<Zagor>	heh, yeah
<Zagor>	reboot again :(
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<Lion>	He must run Windows
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Lion>	I think I have time this weekend to write some additinal layers for complex char management.
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Linus>	the splash screen bugs in the recorder
<Linus>	empty screen
<Linus>	seemingly dead
<Linus>	after removing the splash, it says: "ATA -5"
---	Bagder|food is now known as Bagder
-->	alkorr (alkorr@srs03v-5-28.n.club-internet.fr) has joined #rockbox
<alkorr>	i download gcc-core-3.0.3 is it enough ?
<alkorr>	-ed
<Bagder>	try!
<Bagder>	Linus: show_logo() you mean?
<Linus>	alkorr: i'm not sure
<Bagder>	it uses malloc()... so it should be moved to at least after the malloc init stuff
<Zagor>	Bagder: no, it was before adi changed
<alkorr>	hey i don't want to wait for 1 hour to tell me there is something missing !!!
<Bagder>	ok
<alkorr>	so i prefer to be sure that gcc-core is enough before compiling it
<Linus>	alkorr: i have never used only the core version
<Bagder>	me neither
<alkorr>	good
<alkorr>	well... i pray so
<alkorr>	still down your website ?
<Bagder>	yeps
<alkorr>	i was looking for the HOW-TO-INSTALL-GCC-AND-NEWLIB-FOR-SH-TARGET page 
<Bagder>	it should be available on the sf mirror too, right Zagor?
<Linus>	dead today. Look at our sourceforge mirror
<alkorr>	okay i try the redhat page
<alkorr>	sourceforge mirror ?
<Zagor>	rockbox.sourceforge.net
<Bagder>	http://rockbox.sourceforge.net/rockbox/cross-gcc.html
<alkorr>	ok, i didn't know that
<alkorr>	ok see you later
<--	alkorr has quit ()
<Bagder>	Zagor: perhaps the splash was made before the malloc init before too?
<Zagor>	yes
<Bagder>	but otoh, I doubt you had a bmp stored there
<Zagor>	actually i had
<Bagder>	so what does -5 mean?
<Bagder>	oh you did, well that explains something! ;-)
<Zagor>	uhhh... must... remove... new emacs eye candy...
<Bagder>	emacs 21?
<Zagor>	yes, on storebror
<Bagder>	check my .emacs
<Zagor>	i did. i still get a blinking cursor.
<Bagder>	in the bottom
<Bagder>	oh
<Bagder>	blink-cursor
<Bagder>	"Non-nil means blinking cursor mode is active"
<Zagor>	ahhhhh
<Zagor>	splash-before-malloc_init was probably the crash reason
<Zagor>	with this flaky usb driver, i'm not sure I feel like experimenting too much though :(
<Linus>	still, the ATA problem persists...
<Zagor>	yes
<edx|homework>	... is there a good mp3-download client for linux?
<Linus>	It's time to debug-enable a Recorder...
<Zagor>	edx|homework: audiogalaxy
<edx|homework>	preferably console...
<Zagor>	Linus: yep
---	edx|homework is now known as edx
<Bagder>	edx: audiogalaxy is the best any-platform
<edx>	and: audiogalaxy preserves users from downloading some copyrighted files :/
<Bagder>	leech now before RIAA closes it down ;-)
<edx>	but i need a console :)
<Bagder>	yeah, like 2 of them million ones
<edx>	consoel program.
<Zagor>	edx: naah, just misspell the name some and it works again
<Zagor>	AG is console
<Zagor>	+browser
<edx>	cool
<edx>	cuz i'd like to run it via ssh
<Zagor>	you use their web site to select songs and then run a simple download client on your machine
<Zagor>	noninteractive
<edx>	i use ag for windows and normally i find stuff but there are some files that are really hard to find
<Linus>	of course
<Linus>	they can't have it all
<Linus>	and the most popular ones are filtered
<edx>	hard to find because they are copyrighted. thats what i meant
<edx>	yea
<Bagder>	I'll still have to see a better system appear
<Linus>	that's why you'll find artists like "Madona" and "Britny Spers"
<Bagder>	AG is a killer system just because it is not strict p2p ;-)
<Zagor>	edx: try "spiffy's AG tools", it automates searches for full albums. even tries misspellings and things in case of blocked download :)
<Zagor>	http://freshmeat.net/projects/agqt/
<Bagder>	I found "fags" the other day, a free AG sattelite clone
<edx>	zagor: great :)
<Zagor>	Bagder: good name :)
<Linus>	"fags" :-)
<edx>	"Nap is a console napster client written by Kevin Sullivan" That uses WinMX which is cool to :)
<Bagder>	yeah, kinda fun
*	Zagor is off to do mind-numbingly boring work
<Linus>	He's not joking
<Linus>	it's really boring
<Bagder>	but he's out from there starting next week, right?
<Bagder>	so he should have as boring as possible now!
*	Bagder grins
<Linus>	he might stay a little longer after all...they are discussing it.
<Bagder>	aaah
<Linus>	a few weeks longer
<Linus>	but again, maybe not...
<Bagder>	ata_spindown() could be modified to return different return codes, then we could easier see which of its operations that fail on the recorder
<edx>	hmm you linux guys have to help me
<edx>	i cant get a program to install..
<edx>	it has an "install" with it and when i type like install /srcdir/ /destdir/ it does about nothing
<Bagder>	linux programs usually don't get installed with 'install'
<Bagder>	did you download a binary package?
<Linus>	what program is it?
<edx>	that's "nap"
<edx>	napster client for linux
<edx>	it is a binary package, yes
<Bagder>	and there's no INSTALL or README document ?
<edx>	AUTHORS    ChangeLog  README          nap          napster.txt
<edx>	COPYING    INSTALL    README.win      nap-session  server
<edx>	COPYRIGHT  NEWS       get-servers.sh  napping      userguide.html
<edx>	there is.. yea
<Bagder>	so read it ;-)
<edx>	thought INSTALL was a program :/
<Bagder>	you can probably run 'nap' just as it is
<edx>	i cant
<Linus>	error message?
<edx>	AUTHORS    ChangeLog  README          nap          napster.txt
<edx>	COPYING    INSTALL    README.win      nap-session  server
<edx>	COPYRIGHT  NEWS       get-servers.sh  napping      userguide.html
<edx>	sorry
<edx>	bash: nap: command not found
<Bagder>	./nap
<Linus>	./nap
<edx>	that's what i get.. ahhhh
<edx>	ok thanks.
<edx>	./nap: 1: Syntax error: "(" unexpected
<edx>	hm
<Linus>	. is seldom in the PATH
<Bagder>	in unix you don't usually have current directory in your path
<Bagder>	edx: do 'file nap'
<edx>	ok
<Bagder>	it displays what kind of file it is
<edx>	nap: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, stripped
<Bagder>	now, read the INSTALL fil ;-)
<Linus>	ok ther read the README
<edx>	the readme file is helping me ... i guess i can do it ;)
<Bagder>	file
<Linus>	otherwise it would have been named IGNOREME :-)
<edx>	the readme just tells me how to compile it :/
<edx>	but those are already binaries
<Linus>	maybe it wants a config file
<edx>	what is the "su" command supposed to do?
<Bagder>	you need a linux course
<Bagder>	su makes you super user
<edx>	aha
<edx>	well i do it with ssh and the command wont work
<edx>	no matter i am a super user ;0
<Bagder>	"wont work"?
<Bagder>	what does that mean?
<edx>	the ocmmand doesnt exist
<Bagder>	su?
<edx>	yea
<Bagder>	you just don't have a proper path
<edx>	what path is it supposed to be in?
<Bagder>	there's not a linux system in the universe without su
<Bagder>	/bin/su on my box
<edx>	well maybe.. i dont need it anyways :)
<edx>	seems not to be in there :/
<edx>	well the nap thing says the same as before (unexpected ))
<Bagder>	so get the source instead
<Bagder>	it'll save you from this trouble
<edx>	ok.
*	Bagder is a prefer-the-source man
<edx>	hehe
<edx>	so now i have a tar.bz2 file... i dont even know how to unpack that ;P
<Bagder>	bzip -dc [file] |tar -xf -
<Bagder>	bzip2 
<edx>	ok
<edx>	*slow 120 mhz machin working*
<Bagder>	:-)
<edx>	oh its a tar.gz (downloaded wrong file lol)
<edx>	how do i do that
<Bagder>	so use gzip instead of bzip2
<edx>	gunzip somethin |tar -xf -
<edx>	same params?
<Bagder>	yes
<edx>	./confugre i gues..
<Bagder>	yes
<edx>	cool.. seems to work :)
<edx>	(its rare that something on linux works for me haha)
<edx>	btw.. do you know "Knoppix"
<Bagder>	nope
<edx>	that's a linux distribution
<edx>	it has been written by the brother of my gymnastics trainer..
<Bagder>	making a linux distribution is not very hard
<Bagder>	you could make one too
<edx>	i have never seen it (but i got a bootable cd of it yesterday.. will try)
<edx>	*making*
<edx>	bah.. warnings :/
<Bagder>	warnings are just warnings
<edx>	i know ;) hate them even so
<Bagder>	so fix them and mail back a patch!
<Bagder>	:-)
<edx>	nap.h:112: warning: `struct sockaddr' declared inside parameter list - they could do that themselves if tehy wanted to :)
<Bagder>	indeed
<edx>	heh takes quite long the compiling :)
<Bagder>	just wait until you built that sh cross compiler ;-)
<edx>	how long did it take you?
<Bagder>	I don't know
<Bagder>	it takes a while
<edx>	hah!
<Linus>	especially building all those newlib libraries
<edx>	finished
<edx>	*make install*
<Bagder>	usually you can't do that as a mere user
<edx>	that looks good - not the same mistake (just some weird characters)
<Zagor>	XFree86, now *that's* a compile for men
<Bagder>	hehe
<Bagder>	staroffice! ;-)
<Linus>	Mozilla
<edx>	Created config directory à
<edx>	aà
<edx>	ax/.nap
<edx>	Reading user config file /home/edx/.nap/napconf...
<edx>	/home/edx/.nap/napconf: file not found.
<edx>	User: 
<Bagder>	that office beast is way bigger
<Zagor>	oooh, cheating ;)
<edx>	ahh that's what its supposed to mean
<edx>	on the ssh thing its some crappy stuff :(
<edx>	Password for user edx (optional): 
<Bagder>	so you need to read the docs to see what to populate that file with
<edx>	hm why is the font fucked up?
<Bagder>	the font?
<edx>	well it displays like chineese characters in the ssh console
<edx>	if i paste it in mirc the text gets normal :)
<Bagder>	so, that's the ssh client's problem
<Bagder>	reset the terminal
<Linus>	Do we have any brave Recorder lab rats online?
*	Bagder looks at edx and grins
*	edx thanks bagder for his tip :)
<edx>	now it seems to work again
<Linus>	our USB driver is too nasty today
<edx>	i have a recorder.
<Linus>	i might want you to test a mod
<edx>	ok
<edx>	if it wont fuck up anything on my recorder :)
<edx>	send it to me
<Linus>	crap! ok, I'll ask someone else... :_)
<edx>	:o)
<edx>	what does the mod do?
<Linus>	an ATA test
<edx>	whats the worst thing that could happen?
<Bagder>	you mean that *COULD* happen or that is likely to happen? B-]
<Linus>	total disaster
<Linus>	like "ATA-6"
<Bagder>	oh no! not -6!! aaaaaah
<edx>	lol whats that
<Bagder>	just an error code
<edx>	hm the napster client works but i cant search anything - bah (server always says "bad search request")
<edx>	what would total disaster be?
<edx>	as long as the hd is still usable afterwards that's no problem hehe
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<edx>	heh - there he goes
<Bagder>	it isn't likely to destroy any data or anything, after all this works on the player
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<edx>	"/usr/bin/install: invalid user `root'"
<edx>	lol
<Bagder>	your system is screwed up
<edx>	it is not
<edx>	i jsut dont have a root user :P
<Bagder>	sane systems have a root user
<edx>	mkuser .. whats the command to create a new user?
<Zagor>	what distro is this?
<edx>	cygwin
<edx>	and whats the default password for root in cygwin lol
<Bagder>	you said linux before
<Bagder>	I mean, why were you surprised the linux executable didn't work?
<edx>	it worked.
<edx>	after i compiledi t.
<Bagder>	yes
<edx>	i thoguht cygwin was about eaqual to linux lol
<Bagder>	hah
<Bagder>	quite far from 
<edx>	bah
<edx>	Zagor: the AG client wont work on cygwin ... I chose the static version - if I get the one without glibc .. may that work?
<Bagder>	hardly
<Bagder>	those are linux binaries
<Bagder>	right?
<edx>	yea
<Bagder>	cygwin is windows, not linux
<edx>	that is hmm.. not so good.. all that...
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<Xunil96>	hmm... i take it no daily builds are available given that the web server(s) is(are) down
<Bagder>	right
<Bagder>	I have very recent ones available though
<Bagder>	http://storebror.haxx.se/archos/
<Xunil96>	cool... i finally found my usb cable for my jukebox and i wanted to try rockbox
<Bagder>	that's a player or studio?
<Xunil96>	player
<Xunil96>	er
<Xunil96>	wait, no it's a studio 10
*	Xunil96 chuckles
<Xunil96>	aparrently i'm not with it today
<Bagder>	well, that's the same binary
<Xunil96>	player-archos.mod?
<Bagder>	yes
<Bagder>	call it 'archos.mod' when you put it on your disk
*	Xunil96 nods
<Xunil96>	interesting
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Xunil96>	the interface is still coming along, i take it
<Bagder>	oh yes
<Bagder>	it's very basic still
<Xunil96>	still, darned impressive :)
<Bagder>	any noticable bugs?
<Xunil96>	hrm...
<Xunil96>	not bugs, no
<Xunil96>	well
<Xunil96>	you can't seem to stop the music :)
*	Bagder still has to see rockbox running
<Bagder>	hehe
<Xunil96>	but i don't consider that a bad thing
<Zagor>	stop isn't implemented, i forgot to check that in :)
*	Xunil96 chuckles
<Xunil96>	so what's this written in?  SH1 asm? 
<Bagder>	C
<Zagor>	C mostly
<Xunil96>	really!
<Zagor>	yup
<Xunil96>	hrm... need another developer?  :)
<Zagor>	always
<Bagder>	sure!
<Zagor>	dive in!
<Xunil96>	cool!
<Xunil96>	i'll have to get the dev environment set up at home
<edx>	Xunil96: What OS do you have?
<Zagor>	man, emacs21 is slooow :(
<Xunil96>	edx, several; at home i have netbsd and windows; this server i'm ircing from is debian linux... i have an ultra enterprise 2 i switch back and forth between solaris 8 and netbsd
<edx>	hehe
*	Bagder notices that Xunil96 seems experienced enough in the area of OSes ;-)
<Xunil96>	heheh
<Bagder>	Xunil96: you'll enjoy this page: http://rockbox.sourceforge.net/rockbox/cross-gcc.html
<Xunil96>	i'm a professional sysadmin :)
<Zagor>	actually, STOP was checked in in v1.10 but I managed to remove it again in 1.12 :)
<edx>	lol
<Bagder>	nice going Zagor ;-)
<Bagder>	that's iterative programming
<Bagder>	do the same thing many times ;-)
<edx>	*** The edb-config script installed by edb could not be found
<edx>	what is edb?
<Zagor>	yeah, it's so fun I want to do it over and over again!
<Xunil96>	hmm
<Xunil96>	how do i shut off my archos, now?  :)
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Bagder>	pull out your power cable, press off
<Zagor>	stop
<Bagder>	oops
<Xunil96>	ah, there we go
<edx>	Bagder, for Player simulation, how did you define lcd_puts ... you had some trick there, rihgt?
<Bagder>	edx: I made them use the recorder-simulator's lcd_puts() using the smallest font
<Zagor>	x11 sim build doesn't work
<Bagder>	works for me
<Bagder>	you completely up-to-date ?
<Zagor>	yup
<Bagder>	oh, you mean it doesn't work when running?
<Zagor>	it doesn't compile
<Bagder>	what breaks?
<Zagor>	debug.h:31: warning: invalid character in macro parameter name
<Bagder>	that a player sim?
<Zagor>	nopp, recorder
<Bagder>	ah
<Bagder>	you
<Bagder>	're using a rather old gcc
<Zagor>	eh, i'm using your...
<Bagder>	it doesn't like that #define line
<Bagder>	try /usr/local/gcc3/bin
<Bagder>	;-)
<Zagor>	ok
<Bagder>	I only use that old one for Linux kernel builds ,-)
<Zagor>	ahh, better
<edx>	hmm i dont understand why lcd_puts is undefined...
<Bagder>	/usr/local/sh/bin is for the sh-stuff btw
<Zagor>	yeah, i found those
<edx>	Bagder, compiling with ARCHOS_PLAYER and SIMULATOR set, lcd_puts should be defined in lcd.c, right?
<Bagder>	bzzzt, wrong
<edx>	why not?
<edx>	#if defined(HAVE_LCD_BITMAP) || defined(SIMULATOR) /* not CHARCELLS */
<Bagder>	don't define ARCHOS_PLAYER
<edx>	hm what then?
<Bagder>	HAVE_LCD_CHARCELLS and HAVE_PLAYER_KEYPAD
<edx>	aha... well.. .. ok
<Bagder>	ARCHOS_PLAYER is intended for target
<edx>	ok
<edx>	still, lcd_puts is undefined :(
<Bagder>	so, write it
<Bagder>	check out the x11 code
<edx>	hm looking at lcd.c i cannot see why it would not be defined!
<Bagder>	lcd-x11.c
<edx>	but please explain why it is not defined in lcd.c
<Bagder>	the x11 sim defines lcd_puts() to something else
<Bagder>	as that is the wrong function
<edx>	hmmm
<edx>	but where is the condition...
<edx>	there is no condition that skips that part of code
<Bagder>	chardef.h and charundef.h contain the #defines
<edx>	ahhh
<edx>	ok
<edx>	hmm the recorder uses functions in lcd.c - couldnt the player do that too?
<Bagder>	it does
<edx>	but not lcd_puts.
<Bagder>	yes it does
<edx>	arghl!
<edx>	no it doesnt
<Bagder>	line 336
<edx>	(why would you define it in x11-lcd.c if it was defined in lcd.c)??
<Bagder>	you mean the player-simulator?
<edx>	yup.
<edx>	my recorder simulator uses the code from lcd.c
<Bagder>	well, you can do it however you like, but the target function lcd_puts() on the player writes to hardware using lcd_write()
<Bagder>	do you wanna simulate that? B-]
<edx>	the player could use it too... no problem.
<Bagder>	wrong
<Bagder>	read the code
<Bagder>	line 336
<Bagder>	can you use that?
<edx>	read further
<edx>	line 4xx
<edx>	theres another function
<edx>	i use that.
<Bagder>	that's for the recorder
<edx>	when i do not use chardef / charundef it works :P
<edx>	yea but the simulator does not care whether its for the recorder or the player
<edx>	the functions are defined, thats it.
<Bagder>	yes you can use that for the player simulator
<Bagder>	I wrote my stuff before those functions looked the same
<edx>	ill just put empty chardef / undef files into win32 dir then (?)
<edx>	or do i rather change lcd.c not to include them when useing win32 simulator.
<Bagder>	yes, do that, and I'll work on removing them in the x11 side
<edx>	do what now?
<edx>	editing lcd.c?
<Bagder>	use empty files
<edx>	ok
<Bagder>	I'll fix the x11 stuff to not use that and then we can remove them
<edx>	player code compiles on the simulator as well now.
<Bagder>	but it'll look funny with your picture ;-)
<Bagder>	hey
<Bagder>	it won't work
<edx>	what wont work?
<edx>	(and what are the dimensions in pixels of the player?)
<Bagder>	11 characters, 2 lines
<edx>	55*16?
<edx>	or 66*16?
<edx>	whats the dimension of one charcell?
<Bagder>	7 or 8 pixels high
<edx>	8 i think
<edx>	whidth?
<edx>	6?
<Bagder>	but there's room for some fixed icons too 
<edx>	hm.. yea i have to see what i do with them - are they supported by your simulator yet?
<Bagder>	well since you use the lcd_puts() you could assume 8x6 :-)
<Bagder>	why it won't work:
<Bagder>	the player needs no lcd_update() to work
<Bagder>	the recorder needs lcd_update() to update the screen
<edx>	aha
<edx>	hm
<Zagor>	dir sorting committed
<Bagder>	c00l
<edx>	where is LCD_HEIGHT defined btw.
<Zagor>	lcd.h
<Bagder>	lcd.h
<edx>	hm.
<Bagder>	edx: but I'll make a fix for it
<Bagder>	when I remove the char(un)def.h
<Linus>	and now there is a slight possibility that the STOP key actually stops the music. :-)
<edx>	Bagder: Ok :)
<Zagor>	oh no, qsort broke the build :-(
<edx>	well the player code works so far anyways
<Bagder>	edx: I think that's because there are lots of lcd_update() in the code already, that are defined to not do anything on the player
<Bagder>	Zagor: why did qsort break the build?
<Zagor>	it uses __udivsi3 which we can't find. very strange.
<Bagder>	hm
<Bagder>	that's libgcc
<Zagor>	yeah, except it's not there
<Bagder>	edx: I removed the char(un)def.h usage now
<Bagder>	Zagor: try copying the qsort.c file from newlib and build it yourself
<Bagder>	not that it would make a difference...
<edx>	hmhm Zagor, this AGSattelite addon tool wont find any album - no matter what i enter
<edx>	it find songs thogh ;)
<Zagor>	Bagder: i'll try that
<Zagor>	works just fine
<Zagor>	veeery strange
<Bagder>	amen
<Bagder>	we could consider copying the files we need from newlib and cut it off as a dependency
<Zagor>	yes
<Zagor>	they aren't many
<Bagder>	just because what Alan said: 3MB tarball
<Zagor>	10 functions
<Bagder>	yeah
<Bagder>	10 small functions too
<Zagor>	9 if we declare 'errno' ourselves :)
<Bagder>	hehehe
<edx>	haha Zagor - that tool is soo great! that wsa just what i was looking for (agqt)
<Zagor>	i'll try it
<Zagor>	edx: nice
<Bagder>	http://www.casio.com/corporate/pressroom.cfm?act=2&pr=5530
<Bagder>	tiny toys
<Zagor>	oooh, that's small!
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<edx>	Bagder, Have you commited lcd.c yet (without chardef.h inclusion)?
<Bagder>	I did
<Bagder>	lcd.h it was ;-)
<Bagder>	but I fixed lcd.c too
<edx>	hmhm
<edx>	line 362 lcd.c
<edx>	#include <chardef.h>
<Bagder>	oops
<Zagor>	i don't have time to fix the qsort problem right now, gotta run. see you guys!
<Bagder>	bye Zagor
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<Bagder>	now then!
<Bagder>	;-)
<Bagder>	later, I'll setup automatic builds
<Bagder>	so that we can instantly if any particular build breaks due to a commit
---	ChanServ gives channel operator status to Bagder
<--	edx has quit (Read error: 104 (Connection reset by peer))
---	Bagder has changed the topic to: web site might remain dead until saturday! :-(
<Xunil96>	what happened with the website?
<Bagder>	power blackout
<Bagder>	in the whole area
<Bagder>	huuuuge
-->	Zagor_ (~bjst@as9-5-6.k.s.bonet.se) has joined #rockbox
<Xunil96>	yow!
<Bagder>	yeah :-/
<Xunil96>	well when you can get at the site again, i'd be happy to offer my colo as a mirror site in case something like this happens again
<Bagder>	well, we have a mirror on sourceforge already
<Zagor_>	we have a mirror at rockbox.sourceforge.net
*	Xunil96 nods
<Zagor_>	thanks anyway :)
<Bagder>	just that some services, like the daily builds, run on that particular server only
*	Xunil96 nods
<Bagder>	I regret that I didn't commit the tools so I could set it up quickly elsewhere ;-/
<Bagder>	I'm off
<Bagder>	see ya tomorrow
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Zagor_ has quit ("bye")
-->	edx (OKE60@pD9EAB9DE.dip.t-dialin.net) has joined #rockbox
<adi|coding>	edx you still around?
---	adi|coding is now known as adi|work
<edx>	adi.. still there?
<adi|work>	yeah mate..
<adi|work>	just wanted to let you know i commited the file that i forogot too last night.  not sure if you need to update your windows side.
<adi|work>	i can let ya know what i changed
-->	Zagor_ (~bjst@as9-5-6.k.s.bonet.se) has joined #rockbox
<adi|work>	hey zagor..
<adi|work>	i check in the file i forgot to check in last night...
<Zagor_>	hi
<Zagor_>	ah, good
<adi|work>	yeah... now the x11 sim works correctly
<adi|work>	though i think the win side prob needs to be updated
<adi|work>	btw... is there something wrong with the commit mailings?
<adi|work>	i haven't gotten any
<Zagor_>	yeah, the mailing list is on the same server as the web server. blacked out
<adi|work>	ahhh.. okay
<Zagor_>	*really* annoying
<adi|work>	hehe i can imagine
<Zagor_>	you shouldn't use absolute numbers to sleep(). use fractions or multiples of HZ instead. that way we can change the timer tick freq if we want to
<adi|work>	ahh.. okay...
<adi|work>	want me to fix or you want to get it?
<Zagor_>	i'll get it
<adi|work>	already got it
<Zagor_>	ah :)
<edx>	zagor.. how do i get to a menu ... on the simulator? lol
<edx>	hi adi
<edx>	it compiles without probs.
<Zagor_>	edx: press a menu key. ENTER on player simulator or /,*,- on recorder
<Zagor_>	on numeric keypad
<edx>	k
<edx>	heh tetris still isnt fixed
<edx>	i had a fix... but i threw it over.. somehow ;)
<edx>	i got the game twice the size and the lines disappeared correctly ;)
<Zagor_>	nice :)
<edx>	ill have a look at it again soon...
<adi|work>	yeah.. when you get that edx..
<adi|work>	let me know...
<adi|work>	:)
<edx>	i have got that.. you wanna know what it was? (i still remember)
<adi|work>	you have it in code? or is it only a few lines fix?
<adi|work>	cause i was thinking more of a 'zoom' feature
<edx>	i was talking about the line disappearing stuff..
<edx>			    virtual[i*max_x] = virtual[((i-1)*max_x)];
<edx>	think it was that line... well i'll see to that later
<adi|work>	ahh.. okay..
<adi|work>	cant really work on it right now... should be coding for the office ;)
<Zagor_>	wee, I just removed all global variables
<Zagor_>	hmm, where's a good place to put errno ?
<adi|work>	id say main.c
<adi|work>	assuming your having it global
<--	Xunil96 has quit ("installing NetBSD")
<Zagor_>	only i need to put it somewhere in firmware, since it's used by code there
<adi|work>	ahhh... 
<adi|work>	id say system.c would work
<adi|work>	either that or panic.c
<adi|work>	since anythng that triggers an errno is likely to cause problems
<Zagor_>	only system.c is mostly about setting up the cpu. and panic is very narrow too. :-) (what, me picky?)
<adi|work>	okay debug.c?
<Zagor_>	hmm
*	adi|work winds up his frozen trout and prepares to whap Zagor_
<Zagor_>	i just want it Right :)
<adi|work>	heheh
<adi|work>	opinion is like a man dating.. it is never right ;)
<Zagor_>	lol
---	adi|work is now known as lou_soyur
---	lou_soyur is now known as adi
---	adi is now known as adi|work
<--	Zagor_ has quit ("bye")
-->	huz|taff (~df@AToulouse-103-1-1-242.abo.wanadoo.fr) has joined #rockbox
<huz|taff>	hi the server is out of order ? 
<huz|taff>	bjorn.haxx.se : 2 packets transmitted, 0 packets received, 100% packet loss
<huz|taff>	:(
<adi|work>	yeah sorta...
<adi|work>	they had an electical probl...
<adi|work>	their in a blackout mostly
<huz|taff>	oki, I hadn't watched at topic (sorry for my english :)
<huz|taff>	s/watched/look
<huz|taff>	good luck for the rest of your project, i look forward testing beta of your work
<huz|taff>	++
<huz|taff>	s/rest/continue ?
<huz|taff>	.. bon tant pis, bonne chance à vous, joli travail, j'attends avec impatience le fruit de votre boulot pour tester tout ça.
<--	huz|taff (~df@AToulouse-103-1-1-242.abo.wanadoo.fr) has left #rockbox
<--	edx has quit (Read error: 110 (Connection timed out))
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
<adam>	howdy
<adam>	yeah, I noticed bjorn.haxx.se was down
---	dw|gone is now known as dwihno
<--	adam has quit (Read error: 104 (Connection reset by peer))
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
-->	Zagor_ (~bjst@as9-5-6.k.s.bonet.se) has joined #rockbox
<dwihno>	Good morning Dr. Zagor
<Zagor_>	hi
<adi|home>	morning dwihno
<adi|home>	hey zag
<dwihno>	Good morning adi
<Zagor_>	Hey, look.  Howard's being eaten.
<adi|home>	huh?
<Zagor_>	it's a Monty Python reference
<Zagor_>	http://www.stone-dead.asn.au/movies/meaning-of-life/01-introduction.html
*	dwihno brought some tea bags to work today
<dwihno>	Some evil dudes has consumed all the bags! :(
<adi|home>	hehehe
<dwihno>	That's serious shit man! :)
<dwihno>	I just realized some serious stuff!
<dwihno>	I'm gonna have a metting when the france-zenegal soccer game takes place!
<Zagor_>	the what?
*	adi|home nods
*	adi|home slaps Zagor_
<adi|home>	world cup man..
<adi|home>	where have YOU been!!!!
<Zagor_>	world cup? cup'o what? ;)
*	adi|home does the world cup shuffle
<adi|home>	and you call yourself a non-american
<Zagor_>	haha. well i'm not much of a soccer fan
<dwihno>	:)
<adi|home>	i thought everyone in the world (with the exception of americans) loved soccer :)
<adi|home>	ahhh SINNER!!!
<dwihno>	Yeah
<dwihno>	Shame on you Zagor!
*	adi|home beats Zagor_ mercilessly with a Canadian
<Zagor_>	oh no! not a Canadian!
<adi|home>	Yes!!! a Canadian
*	Zagor_ sobs
<adi|home>	and careful you.. or i shall bring out........
<adi|home>	THE COMFY CHAIR!!!!
<Zagor_>	ahhhhhhh!
*	adi|home cackls "Nobody expects the Spanish Inquisition!"
<dwihno>	Hahahaha
*	dwihno rofl's :)
<dwihno>	hahahahaha
<Zagor_>	"I like chinese, they only come up to your knees..."
<adi|home>	"Never be rude to an Arab..."
<adi|home>	"A spik or a wop or a jew...."
<Zagor_>	Come in, my little loves. I've got no option but to sell you all for scientific experiments.
*	adi|home puts on a cheesy french accent
<dwihno>	Hey, I finally decided what computer to buy ;D
<adi|home>	Zagor_ would you like a mint? Oh.. but it is a wafer thin mint....
<Zagor_>	bugger off, i'm full!
<adi|home>	ahh.. it is hardly anything.. so thin...
<adi|home>	surely you have room for a mint
<Zagor_>	bring me a bucket...
*	dwihno smiles widely
*	dwihno tries to remember who gave him the dell tip
<adi|home>	"Ah.. I'd like to have an arguement..."
<dwihno>	A rather funny thing... They had this "buy computer online and save $"-deal, which expired yesterday... Today it's reassigned with a new stopdate :)
<dwihno>	Lucky me
*	dwihno sings some solid base hits
<adi|home>	lol
<adi|home>	"you toffy nosed maloderous pervert!"
<Zagor_>	swedish channel 3 is running all 46 episodes of "Monty Python's Flying Circus"
<Zagor_>	at 03.50 in the morning!
<adi|home>	i hate you severly...
<dwihno>	Only sick bastards are up that early! :)
<dwihno>	(or, that late) ;)
*	adi|home glances at the clock and realizes he still ahve 2 hours till he is a sick bastard
<Zagor_>	hehe
<dwihno>	hehe
<dwihno>	I need to make myself a nice, hot, cup of tea (and hide my teabags from the vultures)
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<dwihno>	Is the any difference between the mp3 decoding circuits btw?
<adi|home>	shhh Bagder is back
*	dwihno shuts up and låtsas like it's regnar
<Bagder>	dwihno: yes there are differences
<Zagor_>	dwihno: lots. see the data sheets
*	Bagder spots Zagor at this hour, *gosh*
<Zagor_>	i'm having breakfast :)
<Bagder>	hehe
<dwihno>	I installed linux on my development-box a couple of nights ago, and the kernel gave me some warnings about data integrity...
<dwihno>	I checked the source and the message was in some probing function, am I using an old kernel or such? :)
<Zagor_>	usb-storage says that every time
<dwihno>	(with the archos, that is)
<Zagor_>	i don't know why
<Zagor_>	ignore it
<dwihno>	I thought I did something wrong and got scared I'd get that "HD lock" thingy :)
<Zagor_>	hehe. no worries.
<dwihno>	It was the first time I did something USB-ish on linux
<Zagor_>	O Lord,...
<dwihno>	(connecting a mouse, and the archos, that is)
<Zagor_>	...ooh, You are so big,...
<Zagor_>	...so absolutely huge.
<Zagor_>	Gosh, we're all really impressed down here, I can tell You.
<dwihno>	That's it! No more all-nighters for you! :)
<Zagor_>	Bagder: newlib is no more
<Bagder>	kewl
<Zagor_>	nor any global variables
*	Bagder fires up ssh-agent and gets ready to do some cvs upping
<Bagder>	did ya tell Alan? B-]
<dwihno>	No global variables?!
*	dwihno is gonna miss them
<adi|home>	so how are we doing things w/o globals btw?
<Zagor_>	oh just fine :)
<adi|home>	smart ass ;)
<adi|home>	what are we doing instead of them :)
<Zagor_>	the only one that really required an API change was the parameter table from disk_init()
<Zagor_>	disk_init() now returns a pointer to its' local table instead
<adi|home>	nods
<dwihno>	Cute
<Zagor_>	the others were mostly just lazy coding
<dwihno>	Now my tea is done. Thank you, dr. microwave.
<Bagder>	ok, tarball size now at 216K
<Bagder>	including win32 sim
<Zagor_>	ah, good
<Bagder>	edx shrunk his pic with ~60% and we got rid of that 290K .aps file
<dwihno>	http://fifaworldcup.yahoo.com/en/020530/1/mq2.html
<dwihno>	NOOOOOOOO!
*	Bagder refuses
<Bagder>	I'll hide from *all* darned soccer
<Zagor_>	i'll have my world cup black, please. no milk or sugar.
*	adi|home points out that he didn't like using globals.. that you made me :)
<Bagder>	hehe
*	Bagder slaps the 'saint' sticker on adi|home
*	adi|home polishes off his 'saint' sticker...
<Bagder>	no one ran linus recorder tests yet?
*	adi|home notices Bagder's spelling of 'saint' seems to look like 'satan'
<adi|home>	if you can promise me i won't toast my recorder, and can get me a binary.. ill test
*	dwihno looks like a TV producer when he walks around the office wearing his philips HP910 headphones
<Bagder>	I don't think Linus committed his test code
<Zagor_>	did he have an ata test?
*	adi|home screams 'Come and see the violence inherent in the system! Help! Help! Im being represed!'
<Bagder>	hehe
<Bagder>	Zagor_: yes
<Zagor_>	Some nights it was so cold, we could hardly move, but Blackie'd be out there
<Zagor_>	slicing the lemons, mixing the sugar and the almonds.
<Zagor_>	I mean, you try trying to get butter to melt at fifteen degrees below zero!
<Zagor_>	There's love in that cake.
*	Zagor_ is having his Python appreciation hour
<Bagder>	"I'm not dead yet"
<dwihno>	Why does it smell like someone has thrown up in the office?
<dwihno>	This beat of my heart goes na na na *sings*
*	adi|home hands dwihno a pail, cause its obvious he can't carry a song w/o one ;)
<dwihno>	:~( you mean ass! :)
<adi|home>	if your not picked on.. yoru not loved
<adi|home>	thats why we leave Bagder alone 
<adi|home>	:)
<Zagor_>	well, i'm off to work. see you shortly.
<--	Zagor_ has quit ("bye")
*	Bagder watches the crowd in silence
<adi|home>	"and pray there's intelligent life up there in space, cause there's bugger all down here on earth.
<adi|home>	adios
<dwihno>	There's no way to create a playlist without attaching the player to the PC and making them there?
<adi|home>	not right now, now
<Bagder>	dwihno: you mean the regular firmware?
<dwihno>	yup
<Bagder>	hold down play in a dir
<dwihno>	I guess I have to stick with the regular for awhile :)
<Bagder>	it'll make a playlist of that dir and all beneath it
<dwihno>	hm
<dwihno>	coolers
<adi|home>	does the player have LCD_WIDTH defined?
<Bagder>	no
<adi|home>	k
<Bagder>	since it isn't graphical, a pixel width makes no sense
<dwihno>	What is the counter which is counting slowly while saving the file?
<Bagder>	dwihno: the track number I guess
<dwihno>	erhm
<dwihno>	Slow :(
<Bagder>	yeah
<dwihno>	2 songs per sec approx
<adi|home>	what font does lcd_puts write with?
<adi|home>	size wise?
<Bagder>	it uses the font you pick
<Bagder>	with lcd_setfont
<adi|home>	where is that value set?
<adi|home>	how often does it need to be set?
<adi|home>	or is global until it gets changed?
<Bagder>	it defaults to 0
<adi|home>	hmmm k...
<Bagder>	currently I don't think any code ever sets it ;-)
<Bagder>	btw, Zagor was wrong about the global variables ;-)
<adi|home>	hehehe k.
<Bagder>	unsigned char display[LCD_WIDTH][LCD_HEIGHT/8];
<Bagder>	the recorder's display buffer
<adi|home>	heheh
<dwihno>	Phew!
<dwihno>	I almost fainted for a second
<dwihno>	what is a piece of software without a set of global vars? :)
<Bagder>	haha
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<--	adam has quit (Read error: 104 (Connection reset by peer))
<Bagder>	Zagor: I decided to make the sim Makefile get built with tools/configure too
<Zagor>	ok, cool
<adi|home>	ummm k :)
<adi|home>	so now i need to run configure each time i want a sim makefile?
<Bagder>	it'll make it easier to build both kinds of simulators
<Bagder>	adi|home: yes
<adi|home>	k 
<Bagder>	at least once
<adi|home>	heheh i have a small gift in about 5 mins :)
<adi|home>	ACK... 
<adi|home>	ummm okay... just segfaulted the sim :)
<Zagor>	ooo, gift! ;)
<adi|home>	heheh did it in tree.c on the strcmp
<adi|home>	hmm.. someone wanna check and tell me if it happens to them..
<adi|home>	i can walk you thought what i did..
<Zagor>	just a minute
<adi|home>	k
<Zagor>	ok, what do I do?
<adi|home>	compile the sim for the recorder
<adi|home>	leave dir browse and go to menu
<adi|home>	go to any submenu...
<adi|home>	then key back to the main menu (return back)
<adi|home>	then return to the dir browse
<adi|home>	its the return to the dir browse that cores on me now.
<Zagor>	ok
<adi|home>	i didnt notice if it did before
<Zagor>	i get it too. checking...
<adi|home>	actually.. you don't even have to go to a submenu.. just the main menu and return to dir browse...
<adi|home>	okay.. so i didn't introduce it.. i can commit what i worked on
<Zagor>	yes
<adi|home>	okay, submitted..
<adi|home>	not a major thing.. but something Bagder asked for
<Bagder>	suuuure blame me ;-)
<Zagor>	yeah, looks good
<adi|home>	no.. bagder.. you play with the sim at all?
<Bagder>	only slightly recently
<Zagor>	but you could use putsxy if you want pixel position, to avoid calculating char position
<adi|home>	okay.. cause now the version info is displayed below the splash bitmap
*	adi|home dohs
<Bagder>	cool
<adi|home>	ill fix it
<adi|home>	oka... fixed .. again
<adi|home>	do you think that maybe that new splash screen should be displayed before the credits? 
<adi|home>	figure that removes one more item from the menu...
<Zagor>	yeah, combine the two and call it "Version"
<adi|home>	k
<Zagor>	crash fixed
<Bagder>	ok, 'configure' now supports simulator builds too
<Bagder>	seems to work ;-)
<Bagder>	makes it easier to builds both kinds of simulators
<Zagor>	nice
<Bagder>	give it a go and see if it works for you guys
<Zagor>	diving in
<Zagor>	works grrrreat!
<Bagder>	goodie
<Bagder>	I'm gonna setup non-stop automated builds of all targets soonish
<Bagder>	to bettee allow all developers to see if they break things
<Bagder>	build-wise
<Bagder>	if only the power would get back
<Bagder>	it should get back no later than tonight they said on the news today
<Zagor>	really? nice
<Bagder>	yeah, apparently the progress has been a bit faster than they first thought
<Bagder>	I still find it amazingly slow...
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Bagder>	morning Linus
<Linus>	morning
<Zagor>	yeah, i especially like how the subway fixed their own power in about three hours...
<dwihno>	You work in Kista?
<dwihno>	LIK-KISTA! :D
<Bagder>	Zagor: yeah
<dwihno>	*hoho*
<Linus>	Lot of barbeque parties in that neiighbourhood nowadays. :-)
<Zagor>	no but the office (and thus server) is there
<Bagder>	dwihno: no, but our office is there
<dwihno>	lik-kista! :) :) ):
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
<Linus>	hi adam
<Zagor>	Bagder: did you ever try to build a player simulator? it doesn't work
<Bagder>	the build?
<Zagor>	yes
<Bagder>	works for me! :-O
<Zagor>	3S works but not 1S
<Zagor>	make[1]: Entering directory `/home/bjst/public_html/rockbox/uisimulator/x11'
<Zagor>	make[1]: *** No rule to make target `debug.c', needed by `/home/bjst/public_html/rockbox/psim/.deps/debug.d'.  Stop.
<Bagder>	old gcc again?
<Zagor>	no
<Zagor>	this is just make
<Bagder>	ah, right
<Zagor>	try in my dir and see
<Bagder>	you have to allow me to cd there then ;-)
<Zagor>	now
<Bagder>	oh, I can
<Bagder>	the Makefile too
<Zagor>	now
<Bagder>	weird
<Bagder>	I removed .deps and tried again
<Bagder>	then it worked
<Zagor>	strange
<Zagor>	oh well
-->	alkorr (alkorr@srs03v-4-164.n.club-internet.fr) has joined #rockbox
<Bagder>	morning Alan
<alkorr>	hi
<Bagder>	Björn cut out newlib
<Bagder>	no need for that anymore
<Zagor>	i'm not 100% done yet, though
<alkorr>	good news because i'm very upset : after a lot of hours to compile all the stuff, newlib fails
<Zagor>	we still haven't replaced all the header files
<Bagder>	uh
<Bagder>	Zagor: ok
<Zagor>	i'm thinking if we should just copy stdlib.h etc or do it some other way
<Bagder>	I'm fine with whatever
<alkorr>	that *!#§ try to compile for several machines (m2,m3e,m4-single and m4, plus the ml counterparts) whereas i would linke only for sh
<alkorr>	sh1
<alkorr>	any idea to switch off compilation with m2, m3e, etc. ?
<Linus>	but where dios it fail?
<Linus>	does
<alkorr>	it try to link a lib.a or something like
<alkorr>	it is when it compiles newlib (configure gcc with --with-newlib)
<alkorr>	i have no longer the message (i compiled yesterday)
<alkorr>	or to make a lib.a archive
<Linus>	what version of gcc/binutils/newlib?
<alkorr>	the same as yours
<Linus>	strange
<alkorr>	1.10.0
<Linus>	linux or cygwin?
<adi|home>	okay... Zagor.. credits and splash/version merged
<adi|home>	wanna take a look?
<alkorr>	cygwin
<alkorr>	just a precision
<Bagder>	wavey managed to get it all working on cygwin
<Zagor>	nah, just check it in
<Linus>	ok. i have never tried it myself
<adi|home>	it already is :)
<Zagor>	ah, you already did :)
<adi|home>	i ment for style ;)
<Zagor>	checking
<Bagder>	we should do some smooth scrolling on that screen
<Bagder>	would be fun ;-)
<adi|home>	heheh 
<adi|home>	im working on it :)
<adi|home>	that stuff is sorta my 'i feel like playing' test bed
<adi|home>	im here to contribute completely useless things
<adi|home>	:)
<Bagder>	we like that!
<alkorr>	JUST A PRECISION : BECAUSE COMPILATION FOR SH TARGET (m2,m3e,etc...) WAS VERY LONG, CYGWIN WAS LACKING OF RESSOURCE SO I WAS FORCED TO RUN AGAIN "make"
*	adi|home coughs *screensaver*
<alkorr>	TO CONTINUE THE PROCESS
<Linus>	alkorr: that sucks
<Linus>	alkorr: your capslock must be stuck :-)
<Zagor>	adi|home: looking good
<adi|home>	Bagder... wanna do me a favor?
<adi|home>	on the configure
<Bagder>	yeah?
<adi|home>	let it catch the --help and -? options
<adi|home>	even if it don't do nothing.
<adi|home>	so that we can set it later
<dwihno>	What do you guys think about the upcoming game between Sweden and England on sunday?
<Bagder>	right
<Bagder>	dwihno: *booooooring*
<Linus>	dwihno: bloodbath!
*	adi|home is just rocking for a game
<dwihno>	Linus: Do you think we stand a chance?
<Linus>	I guess Bagder and I don't share an interest of football :-)
<alkorr>	when it tries to 'configure' newlib, it was so endless and seems for a moment locked so I ctl-ed break
<Bagder>	hehe
<Linus>	dwihno: oh yes
<Linus>	alkorr: that takes forever!
<dwihno>	:D
<dwihno>	WE SHALL STAND VICTORIOUS!
<dwihno>	WE WILL SHOW POWER SUPREMACY! :)
<Linus>	or maybe we'll just win the game.
<adi|home>	umm.. using the makefile created by the configure
<adi|home>	when you run make.. should we consider relocating the binaries?
<alkorr>	so when I retry a 'make' it doesn't turn in 'configure' back, but go ahead to compile 'newlib'  
<adi|home>	or should we assume the user will know where to look?
<Linus>	Bagder: does the recorder build still name the target "archos.mod"?
<Bagder>	adi|home: it should put them all in the directory you're in
<Bagder>	Linus: yes
<alkorr>	and i could be surprised that it tries to link lib.a (i mean it should be libXXX.a)
<Linus>	It should call it ajbrec.ajz, afaik
<alkorr>	so my question : it is normal it creates a lib.a ????
<Linus>	alkorr: you must run the configure again
<Bagder>	Linus: yes, but it's the same makefile so that's why it has the same target name
<Linus>	ah maybe an ifdef?
<Bagder>	yeah
<alkorr>	geeeee !!!! it is not me who runs the 'configure' but 'make' the first time :(((((
<Linus>	alkorr: no, it hasn't built a lib.a in my build
<Linus>	./configure
<alkorr>	all this time lost :(((((
<Bagder>	adi|home: done!
<adi|home>	thanks :)
<Linus>	alkorr: in a hurry? :-)
<adi|home>	oh.. and the binary is not moved to the file your in.
<adi|home>	and the configure file is growing on me :)
<alkorr>	i cannot trust that 'make' :((((( 
<Linus>	blah
<Bagder>	adi|home: it isn't moved, it's built right there
<Linus>	alkorr: I did exactly that mistake the first time I built a cross gcc compiler (for powerpc)
<Linus>	I had to start all over again...
<alkorr>	Linus : i respect all the procedures you're describing in sourceforge for creating cross-compilers, where is the error ?
<alkorr>	respected
<adi|home>	not its not Bagder.. the Makefile is built and in the correct location..
<adi|home>	but when you do a make... the binary is not in the pwd
<Bagder>	did you really update the uisimulator/x11/Makefile ?
<Linus>	I guess that the gcc makefile runs configure in the newlib directory if it sees that it isn't configured
<Linus>	Bagder: how do I undo a ./configure?
<Linus>	not in rockbox, i mean autoconf/automake stuff
<Bagder>	Linus: you don't, you run it again and pick right ;-)
<Linus>	not in rockbox, i mean autoconf/automake stuff
<alkorr>	it is not the first time i made a cross compiler, but for a reason i don't know, more recent version are more and more difficult to compile (i suppose gcc 3.x.x are quite recent so unstable for certain platforms)
<Linus>	remove config.cache?
<Bagder>	Linus: yes, if such a one is made
<Bagder>	it isn't usually these days
<adi|home>	ahh.. okay.. fixed :)
<adi|home>	hmmm... kinda nasty aint it..
<Linus>	alkorr: tru removing the config.cache file in the newlib dir
<Linus>	try
<Bagder>	adi|home: nasty in what way?
<adi|home>	1. be cleaner if all the obj files were located somewhere else.. but can't help that..
<adi|home>	2. i run the rockboxui and it runs for a few ms and stops
<adi|home>	no menu or anything
<adi|home>	ideas?
<Bagder>	why would the obj files be stored somewhere else?
<alkorr>	but i don't see a config.cache
<adi|home>	cause it just looks nasty :)
*	adi|home is being picky... so deal :)
<Bagder>	adi|home: the obj files were always stored this way, this is not a new way
<adi|home>	i know.. 
<adi|home>	don't mean i havta like it 
<Bagder>	right
<adi|home>	but whats the story with the rockboxui?
<Linus>	adi|home: try creating a directory called archos in the simulator dir
<Zagor>	Bagder: the makefile created by configure should have a dependency on firmware for the target builds
<adi|home>	ahh.. thats it.. i have one in the sim dir.. but not one in tools
<Bagder>	Zagor: yes, it needs to run make in both firmware and apps
<Bagder>	I realized that too
<Bagder>	adi|home: you should not actually run the configure script in the tools dir
<Bagder>	its not very nice
<Zagor>	yeah, this 'archos' dir thing should be handled more gracefully
<adi|home>	here should it be run from?
<Zagor>	a new dir
<adi|home>	l
<adi|home>	k
<Bagder>	yes, we need to treat a missing 'archos' dir just as an empty dir or something
<Zagor>	or at least print a message
<Bagder>	yes
<adi|home>	well, why don't we just have the config create one if it don't exist?
<adi|home>	i mean.. no archos dir, then they obv. don't have the .bmp
<Bagder>	adi|home: hehe, good question ;-)
<Bagder>	I'll make it
*	adi|home has served his purpose 
<adi|home>	you may also want to check for the existance of the .bmp file i they choose the recorder... and report about it if it is not found.
<adi|home>	s/i they/if they/
<Zagor>	i think we should compile-in the rockbox logo, actually. it's very small and I expect many people will forget downloading the bmp
<adi|home>	nods
<adi|home>	how do you compile it in?
<Bagder>	yeah
<Bagder>	the file could be for replacement only
<Zagor>	we should still look for a logo file, but have the official logo as default
<Bagder>	I mean the logo on disk
<Zagor>	exactly
<dwihno>	How about application skinning? :)
<Bagder>	we can use the bmp file reader as a converter
<adi|home>	i agree.. i like that...
<adi|home>	so we need current logo converted to binary yes?
<Bagder>	converted to a C array
<adi|home>	yeah..
<Bagder>	just make the simulator write it to stdout
<Zagor>	code size is now up to 0x658e
<Zagor>	debug code, that is
<Bagder>	Zagor: if you do 'configure update' now, the makefile will  be corrected
<Zagor>	good
<adi|home>	the lcd_bitmap function.. how exactly does that write to the display?
<Bagder>	it fills in the display buffer correctly
<Bagder>	then lcd_update() copy the buffer to the LCD 
<adi|home>	so the buffer passed in, when returned, should be all 1's and 0's yes?
<Bagder>	yes
<dwihno>	Btw, is a price of SEK 1500 good for a old PII 266, 256mb RAM, 3GB disk, EEPRO100 NIC, ATI rage 128 card?
<--	adam has quit (Read error: 104 (Connection reset by peer))
<Bagder>	I dunno
<Zagor>	sounds good to me, if you have use for it
<dwihno>	I'm considering to sell my last computer ;)
<dwihno>	Then I'm all computer-less.
<dwihno>	Until my laptop arrives.
<Zagor>	who's got a studio?
<Bagder>	I think Lion and PsycoXul do
<Zagor>	http://storebror.haxx.se/~bjst/rockbox/player/archos.mod  <-- player mod with new cursor chars. i want it tested to verify i've picked the right char
<Zagor>	a new player is good too, of course
<Zagor>	linus left mine at home *growl*
<Linus>	sorry...
<Zagor>	it isn't that pretty in the simulator :)
<Bagder>	hehe
<Bagder>	then we need some sim work-around
<Bagder>	the recorder now gets an archos.ajz output file
<Zagor>	nice
<PsycoXul>	Zagor: it looks nice but still takes up 1 too many chars :p
<Zagor>	yeah, we must fix something with the hardware cursor
<Zagor>	next version
<PsycoXul>	well i played with it
<PsycoXul>	i just cant get the damn thing to show up without blinking
<Zagor>	but you get the arrow?
<Bagder>	Zagor: you should put sentences like that in a little document before we release, or people will jam us with questions like that
<Zagor>	yes i will
<PsycoXul>	yeah i get the arrow
<Zagor>	good
<PsycoXul>	the cursor's default state seems to be invisible
<PsycoXul>	and when it blinks it gets reversed
<PsycoXul>	but it starts out invisible and the blink period's too long
<PsycoXul>	so you can scroll past several names before it blinks into visibility
<Zagor>	PsycoXul: can you download and try again? this is a test with double-height logo
<Zagor>	uhh, this will probably look strange
<PsycoXul>	heh
<PsycoXul>	it hasn't shown up on either of these
<Zagor>	i'm turning it off too quickly
<PsycoXul>	it just says the rom version untill the dir list comes up
<PsycoXul>	and it still looks normal from the version menu
<Zagor>	ok, hang on...
<PsycoXul>	btw, it'd be nice if the sound options would go back to the sound menu when you press the menu button, like the rest of the menu does heh
<Zagor>	right, fixing
<Zagor>	ok, try again
<PsycoXul>	btw i have to say 
<PsycoXul>	the process of copying one single little file is much faster in windows than linux
<Zagor>	yes, that's because the linux FAT driver reads 512 bytes per request. it really slows everything down. :(
<PsycoXul>	ok
<Zagor>	i've been looking into it, but it's not exactly straight-forward
<PsycoXul>	the logo still doesn't show up on startup, but it is double-height in the version menu
<PsycoXul>	...and then so is everything else afterwards
<PsycoXul>	oh
<Bagder>	hahaha
<PsycoXul>	untill you leave the menu
<Zagor>	yeah, i forgot to clear it :)
<Zagor>	but why doesn't it show up at boot? hmm...
<PsycoXul>	i dunno
<PsycoXul>	just keeps showing the rom's screen
<Zagor>	ok, once more
<Zagor>	gaah, stop!
<Zagor>	found the reason
<Zagor>	download again
<Zagor>	you don't have a webcam, do you? ;)
<Bagder>	hehe
<PsycoXul>	heh why
<Zagor>	would be cool to see, now that I can't test myself
<PsycoXul>	it works 
<Zagor>	it does? cool!
<PsycoXul>	yep
<PsycoXul>	its all cool
<alkorr>	btw, ata still not working on recorder ?
<Zagor>	only now you don't actually get to see the version number :)
<Zagor>	alkorr: no
<Bagder>	now darnit, does this mean you guys won't bring a player tonight to show me?
<Zagor>	Bagder: only an old version
<Bagder>	ah, ok, without double height?
<Zagor>	unless we pop by linus on the way :)
<Bagder>	uh
<Zagor>	exactly
<PsycoXul>	these ones haven't been showing a version number anyways
<Bagder>	he's living way too far out ;-)
<alkorr>	maybe another bit of port A or B to set/clear :/
<Zagor>	yeah, he's out in the sticks
<Zagor>	alkorr: yeah, probably something like that. we haven't looked much at it yet. it's very painful without gdb.
<PsycoXul>	now just add a line-in on/off toggle, and auto-continue-to-next-track and i'll start using :p
<PsycoXul>	using it
<PsycoXul>	heh
<Zagor>	patience, my friend :)
<Linus>	the lazy playlist coders aren't ready. the mpeg thread is
<PsycoXul>	honestly just playing a whole dir instead of a single file is all i miss in it and imo a road-block to realistic usability
<Zagor>	i agree
<PsycoXul>	even if it can't load or save playlists, just to keep going :p
<Zagor>	i'll see if I can hack up a quick-fix for it
<PsycoXul>	any idea on battery usage of this vs archos' at this point?
<Linus>	probably worse that archos
<Zagor>	probably. we aren't doing anything to conserve battery
<Zagor>	except shutting off the disk
<PsycoXul>	well thats the biggest battery sucker isn't it?
<Linus>	yup
<Zagor>	during activity, yes. when idle, it only draws like 40mA
<PsycoXul>	i mean i can see it'll use more just cause you have to select each track
<PsycoXul>	but besides that...
<Zagor>	i'll be experimenting with shutting down the LCD and stuff soon. also there's a deeper sleep mode you can put the disk in.
<dwihno>	Cool
<PsycoXul>	i'm leaving for a week long trip on saturday
<Zagor>	could you test again PsycoXul? this version shows double-height on boot but single-height on Version menu, I hope
<dwihno>	Does the LCD consume lots of power?
<Zagor>	dwihno: I don't know, that's what I intend to find out
<Linus>	and the mpeg thread can be restructured to minimize the disk up-time
<dwihno>	Coolness
<PsycoXul>	it'd be great if its reasonably usable vs archos' before i left, cause i can hack in some text-file support and have books to read while i'm gone :p
<dwihno>	Would be really neato to gain an hour or so :)
<Zagor>	i wouldn't count on it
<dwihno>	nah
<dwihno>	but in our dreams, everything is possible! :)
<dwihno>	The playlist loader could be smarter btw.
<Bagder>	smarter than what?
<PsycoXul>	heh
<Bagder>	ah right, you've missed the playlist talk on the list
<PsycoXul>	Zagor: yep works 
<Zagor>	cool
<PsycoXul>	and shows version as CVS this time
<Zagor>	i'll check it in like this, then
<dwihno>	Bagder: I've been on the list for just a short while
<Bagder>	dwihno: we plan a system where we can keep a large playlist by using little memory
<Bagder>	and we can do full forward/backward even when doing random
<dwihno>	:)~
<dwihno>	but how?
<PsycoXul>	the best way!
<PsycoXul>	:p
<dwihno>	gheh
<dwihno>	I just wonder how to keep all data in memory
<Bagder>	dwino: we store only file name byte-index in memory
<Bagder>	byte-index into the file to fine the actual file namae
<Bagder>	(and a few cached ones too)
<dwihno>	mkay
<dwihno>	The font should be tighter horizontally
<Bagder>	feel free to make such a font
<dwihno>	The browser should have some sort of quick navigation in a tree
<Zagor>	we are accepting new font submissions :)
<Bagder>	it could be made to work proportional too
<Zagor>	that's a cool idea, actually
<alkorr>	even ET font :)
<dwihno>	The scroll should be horizontally too
<dwihno>	scroll faster
<dwihno>	<-- is mongo today
*	Bagder has considered a system with a wider display buffer and allow the display to scroll horizontally
<Zagor>	ahh, that's an idea
<dwihno>	I want a jpeg-viewer too! :)
<Zagor>	1-bit jpegs are rare :)
<dwihno>	heh
<dwihno>	all you need is some cool algorithm to transform the image :)
<Bagder>	true
<Bagder>	that's what the bmp reader does
<Bagder>	not cool though, rather uncool ;-)
<Zagor>	time for Greasy Friday
---	Linus is now known as Linus|lunch
---	Zagor is now known as Zagor|lunch
<dwihno>	greasy?
<dwihno>	You mean JUNKFOOD! :D
<dwihno>	Oh, the envy!
<PsycoXul>	i thought you were commiting this? :p
<alkorr>	Just a suggestion, why not use long long instead of char for internal bitmap ?
<Bagder>	why?
<alkorr>	if you need to draw a rectangle you can draw vertical line easily
<alkorr>	just creating a mask to OR for start and end vertical lines
<alkorr>	another mask for upper and lower horizonta lines 
<Bagder>	I don't see the point in optimizing for rectangles anyway
<alkorr>	it is an example, Bagder
<Bagder>	yes
<Bagder>	but we do char output mostly
<Bagder>	we should optimize for that
---	Bagder is now known as Bagder|lunch
<alkorr>	i mean that access should not be always char but also short or int or long long according what you want
<alkorr>	if you want to use double heigth font, use short instead of char
<alkorr>	ah he's left
<--	alkorr has quit ()
<Lion>	Hey, who works on the MPEG thread?
<Lion>	Anyone alive?
<PsycoXul>	not really
<Lion>	Oh hey, hows it goin'.
<PsycoXul>	pretty good
<Lion>	I heard the test did not go as well as we could have hoped.
<PsycoXul>	heh yeah
<PsycoXul>	every time i loaded the new chars, they showed up on the screen in place of the old ones :/
<Lion>	Damn.
<PsycoXul>	i'm still not using rockbox's code to do it, but i don't think that matters
<Lion>	Yeah, if you're talking directly to the controller, then all is losty.
<Lion>	So, my plan is to write an interface layer to manage custom chars.
<PsycoXul>	manage them in what way?
<Lion>	And allow other threads to request and store custom chars, then a layer over the lcd_prints to call the custom chars.  It'll check for the number of customs in use and swap 'em in and out as necessary
<Lion>	stupid java
<PsycoXul>	heh
<Lion>	lcd_puts
---	Zagor|lunch is now known as Zagor
<Lion>	Then no one has to worry about what custom clot is in use, or if/how many are on screen.
<Lion>	s/clot/slot
<PsycoXul>	sounds like fun
---	Linus|lunch is now known as Linus
<Lion>	It's pretty easy, really.
<Linus>	Lion: I work on the mpeg thread
<Lion>	Cool, I have a global struct API interface for the thread.
<Lion>	No locks needed either, vars are either external write only or internal write only.
<Linus>	you mean the info about what songs to play and when they actually play?
<Lion>	Well, that and a LOT more.
<Lion>	Lemme quick crank it out so you can see.
<PsycoXul>	hmm
<Lion>	It's on paper right now.
<PsycoXul>	what happens if you lcd_puts 22 chars on the player?
<Linus>	ok. mail it to the list
<PsycoXul>	will it wrap or truncate?
<Linus>	wrap
<Zagor>	truncate
<PsycoXul>	heh
<Linus>	:-)
<Zagor>	truncate
<Linus>	sorry, zagor fixed that.
<Zagor>	truncate
<Zagor>	truncate
<Zagor>	 :)
<PsycoXul>	ok
<Linus>	it truncates each row, right? after 11 chars.
<Zagor>	yup
<Zagor>	after pos 11
<Linus>	I think I have found the LCD display controller that Archos uses
<Zagor>	really?
<Zagor>	so it's not the salomon we thought?
<Linus>	the charset matches pretty well
<Linus>	nope, but we knew that, didn't we?
<Zagor>	yeah well i was kind of confused...
<Zagor>	it matches so well, but still doesn't :)
<Zagor>	so what have you found?
<Linus>	samsung
<Linus>	S6A0093 has a charset that matches
<Linus>	still, it doesn't quite add up...
<Linus>	the commands sent to it are not specified in the data sheet
<Linus>	Ah
<Linus>	that's because the charset matches that of the new player
<Linus>	and i haven't analyzed the commands to the new LCD
<Linus>	got it
<Zagor>	where's the pdf?
<Linus>	S6A0090
<Linus>	that's the "old" LCD
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
<Linus>	at least when it comes to the commands
<Linus>	but the charset is the same as S6A0093...
<Linus>	strange
<Zagor>	i never understood why they have different charsets for differnt versions
<Zagor>	the old charset is a lot better than the new one
<Linus>	http://samsungelectronics.com/semiconductors/search/datasheet.jsp?family=312
<Linus>	and why change LCD at all?
<PsycoXul>	cause they got a bargain on the earlier ones and then ran out?
<Zagor>	yeah maybe
<Linus>	hehe no wonder the double height mode doesn't work on the Old(tm) players
<Linus>	its a Test command
<Zagor>	people were unexpectedly actually buying the jukebox :)
<PsycoXul>	hehe
<Zagor>	Linus: ooh, nice :)
<Linus>	"Don't use this instruction", sayeth the Data Sheet :-)
<PsycoXul>	so how about the new lcd... is there maybe actualy a command to turn the hw cursor on and visible without blink? heh
<Zagor>	Display Control:
<Zagor>	C = Cursor on/off
<PsycoXul>	or either one for that matter... heh
<Zagor>	B = Blink on/off
<Zagor>	D = Display on/off
<Zagor>	neato
<PsycoXul>	yeah
<PsycoXul>	thats what it says in the sheet for it on your website too
<Linus>	Samsung's web server log experiences a strange interest in LCD data sheets...
<Zagor>	ah, right. same command...
<Linus>	there seems to be a "standard" for LCD commands
<Linus>	almost all LCD controllers have the same commands
<Zagor>	oh well maybe there's some text explaining it, or whatever
<Linus>	except for that &/#% old Player
<Zagor>	so how do we know this is not just another almost-it?
<Linus>	i think the only question mark is the charset on the Old Player
---	Bagder|lunch is now known as Bagder
<Zagor>	can these be mask-programmed in some way, like the sh1 is?
<Linus>	maybe
<Linus>	you mean they have a custom charset on the old one?
<Bagder>	I'll take off home, I'll pop in when I get there
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<Zagor>	Linus: yeah, maybe. just a guess.
<Zagor>	it seems natural Samsung would produce an asian display like the new one
<Linus>	that makes it even more stupid to change LCD...
<Zagor>	indeed... are both still in production?
<Linus>	they say "mass production" on the site
<Zagor>	ok. the mystery thickens... :)
<Linus>	whatever. these ones seem more likely than the solomon ones anyway
<Zagor>	yeah, at least there's *more* matches in these :)
<Linus>	apropos standard,
<Linus>	(from the web site)
<Linus>	"The double height character mode and line
<Linus>	vertical scroll functions are supported"
<Zagor>	vertical scroll?
<Linus>	That sort of implies a standard, otherwise they wouldn't have said "THE ... modes"
<Zagor>	hmm, maybe. or it's just a case of asian english :)
<Linus>	Line Shift Mode
<Linus>	you can tell which part of DDRAM begins on the first line
<Linus>	you can have 4 lines in memory and program an offset to tell which of the 4 is actually the first line on screen
<Zagor>	ah. real fancy "scroll" :-)
<Linus>	wow
<Linus>	it has a horizontal scroll too
<Lion>	asian english == engrish (the 'technical' term)
<Linus>	or rather rotation
<PsycoXul>	yeah
<Linus>	Lion: :-)
<PsycoXul>	its horizontal scroll sucks cause its buffer is too short though
<Linus>	we need to perform some tests to see if the sheets are correct
<PsycoXul>	its what archos' firmware uses 
<Linus>	is it?
<Zagor>	i don't think it is. it bugs too much :)
<PsycoXul>	i'm pretty sure it dictates the scroll speed and is why even scrolling chars get cut off at a certain point
<Zagor>	but you get magically appearing/disappearing characters sometimes, which indicates it's not just a memory offset
<PsycoXul>	but then you never know, those crazy archos people pulled that 999 limit out of their asses, they could've pulled a 22 char or such limit for sideways scrolling out of it too :p
<Zagor>	i think they did
<PsycoXul>	Zagor: hmm i've never seen that
<Zagor>	play a file with long strings, then play a file with shorter. when the scroll goes past the \0 in the string, the rest of the previous string appears on-screen
<PsycoXul>	hmm
<PsycoXul>	never had that happen
<Zagor>	uh, sorry. i'm talking about the recorder. doh!
<PsycoXul>	ah well see
<PsycoXul>	thats a different story altogether
<PsycoXul>	heh
<Zagor>	yeah
*	Zagor smacks forehead
<PsycoXul>	btw
<PsycoXul>	did you commit those changes you said you were?
<PsycoXul>	heh
<Zagor>	yes
<PsycoXul>	ok
<PsycoXul>	just not getting the mails cause of the blackout?
<Zagor>	exactly
<Zagor>	they say the power could come back tonight. let's hope so.
<PsycoXul>	hmm
<Zagor>	feels like some 3rd world country...
<PsycoXul>	ok i just compiled it and got into the browser still in double-height
<Zagor>	ouch. let me check
<Zagor>	well darn, that's the code I used. you sure you got the latest?
<Linus>	large filea are displayed with large characters. :-)
<PsycoXul>	heh
<Zagor>	haha
<PsycoXul>	yep got latest
<Zagor>	ah, forgot one thing. hang on.
<Zagor>	update tree.c
<Lion>	Almost done with this thing.
<PsycoXul>	if all else fails with making the hw cursor not blink
<PsycoXul>	we could always just use a custom char thats the reverse of the first letter of what we're selecting
<PsycoXul>	heh
<PsycoXul>	Zagor: ok works
<Zagor>	good
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Linus>	baggy! hi!
<Bagder>	rehi
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Linus>	suicidal proxy...
<Bagder>	joinin leaving joining leaving... :-)
<Lion>	http://www.leonine.com/~lion/temp/mpeg_api.h
<Linus>	Lion: good start
<Linus>	A few comments...
<Linus>	the mpeg thread may need to tell where in the stream it is playing right now
<Lion>	Oops, stupid = in #defines
<Lion>	right, I was using filepos to do that.
<Linus>	we may also have at least two streams in memory
<Bagder>	at least
<Linus>	it reads more that 1 meg ahead
<Linus>	and the thread is never killed
<Lion>	MPEG_CMD_KILL is not designed to actually kill the thread
<Linus>	ok
<Lion>	just stop what it's doing, and unload it's data
<Bagder>	I think we should use functions to instruct the thread
<Linus>	ok, we might find a better name for it then
<PsycoXul>	heh
<Bagder>	and keep this struct for mpeg reporting
<PsycoXul>	ok that last text reading function i wrote is really broke
<PsycoXul>	IO9:CPUAdrE
<PsycoXul>	at 000A11E3
<PsycoXul>	:p
<Bagder>	uu
<Linus>	hehe
<Linus>	i know exactly what it is.
<PsycoXul>	what is it? heh
<Bagder>	PsycoXul: unaligned memory address
<Linus>	Zagor forgot to mention a sligt detail in his file API
<Linus>	it can't always write into buffers at odd addresses
<Lion>	Badger: You can use a func, but in the end it's still going to behave as this struct does.  The MPEG thread will need ot lopp and check a var to look for it's commands.
<PsycoXul>	heh
<Bagder>	Lion: perhaps, but the API wouldn't have to care
<Linus>	we have a message queue for that
<PsycoXul>	oh well i think its broken in a lot of ways so i'll forget about that and use the newer one though its not quite as functional :/
<Linus>	but it is about the same
<Lion>	Bad: My point is, write a func, but that doesn't remove the need for the cmd var
<Bagder>	Lion: sure it does
<Bagder>	because it moves that responsibily to the thread
<Linus>	i think the funcs could do what the mpeg_xxx() functions do today
<Linus>	they send a message
<Lion>	Yeah, and how does that message get to the thread?
<Linus>	via the queue primitives
<Linus>	and yes, it is still a loop
<Linus>	that checks the queue
<Lion>	OH, so there IS more than simple threading.
<Linus>	we have queues and mutexes
<Lion>	I was under the assumption that there wasn't any IPC semantics.
<Bagder>	they're not documented anywhere though ;-)
<Linus>	and sleep() and yield() of course
<Lion>	Ahhh ....
<Linus>	look at the mpeg.c
<Linus>	and ata.c
<Lion>	I was hoping there was sleep() for when I rewrite apps/play.c to use the struct
<Bagder>	sleep() is documented
<Lion>	cool
<Lion>	Well, anyway, then someone write the mpeg_cmd() func .. :)
<Bagder>	mpeg_play() is there ;-)
<Lion>	I know.
<Lion>	You'll notice the struct has no method for loading and starting a file
<Lion>	it assumes mpeg_play()
<Bagder>	goodie
<Bagder>	mpeg_stop() stops
<Lion>	woot
<Bagder>	afaik, those are the only play-related functions we have right now
<Linus>	pause and resume also
<Bagder>	ah, cool
<Linus>	but not seek
<Bagder>	Linus: can you add them to the API file please?
<Linus>	that one is a monster to implement in a good way...
<Linus>	Bagder: ok
<Zagor>	seek is for v3.0 ;)
<Bagder>	hehe
<Zagor>	Linus: add a comment about read() while you're at it
<Linus>	BTW is the API file meant to document the present status, or the intended goal?
<Lion>	present status
<Zagor>	present status IMHO
<Bagder>	Linus: I've tried to add a note when things don't work even if documented
<Bagder>	like write()
<PsycoXul>	ok wtf
<PsycoXul>	this text function works fine for a small file
<PsycoXul>	but large files it just displays the same odd pattern of y's and o's and blankness
<Linus>	looks like a buffer overwrite to me.
<Lion>	You're not loading the entire file into mem, are you?
<PsycoXul>	Lion: of course i am
<PsycoXul>	heh
<Bagder>	haha
<Lion>	Well, don't.
<Linus>	and how big is your buffer?
<PsycoXul>	the file's length
<Linus>	malloc()
<PsycoXul>	yeah
<PsycoXul>	none of these files are over 1mb
<Lion>	You shouldn't be loading all of it into mem anyway.
<PsycoXul>	why not?
<PsycoXul>	if it'll fit, it makes it a lot easier and saves hd spinning
<--	Bagder has quit (tenn.openprojects.net irc.openprojects.net)
<--	Linus has quit (tenn.openprojects.net irc.openprojects.net)
<--	Zagor has quit (tenn.openprojects.net irc.openprojects.net)
<Lion>	Bad policy.  Load and display chuncks only.
-->	Linus (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
<PsycoXul>	chunks are bad when we want to spin the hd as little as possible
<Lion>	You shouldn't assume you have free reign over all the memory.  Place nice itth other threads
<Lion>	s/itth/with
<Lion>	s/Place/Play
<PsycoXul>	yeah well i'm not submitting my code, its just for my own benifit
<PsycoXul>	i'm not that good a coder :p
-->	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has joined #rockbox
-->	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has joined #rockbox
<Lion>	Anyway, however you want to implement the cmd fucntions, if you do the DOMESTIC parts of the struct, then I'll rewrite apps/play.c to use them
<PsycoXul>	ugh i guess i'm just using archos' firmware on vacation :/
<Zagor>	PsycoXul: i may have something for you, if this works...
<PsycoXul>	and i should've went to bed 2 hours ago
<PsycoXul>	Zagor: whats this
<Zagor>	testing whole-dir play right now
<PsycoXul>	cool
<Zagor>	bugs :)
<Zagor>	testing again
<PsycoXul>	oh well, unless somebody else can do a text viewer right and have it done today [i'm not holding my breath] i'm just gonna have to use archos' firmware on my vacation :/
<Zagor>	does it have a text viewer?
<PsycoXul>	no
<PsycoXul>	but its got nifty things like battery indicator :p
<Zagor>	WOOOOOOOOOOOOOOOOOOO
<Zagor>	whole-dir playback works
<Linus>	bango!
<Bagder>	rocking box
<PsycoXul>	cool
<Zagor>	i'm filtering a bit, so only files ending with a '3' are played :)
<Linus>	i had that working a long time ago...
<PsycoXul>	heh
<Linus>	in my test code.
<Linus>	but Zagor removed it
<Zagor>	Linus: yeah, but you cheated by reading the dir again
<Zagor>	i don't
<Linus>	memory hog :-)
<PsycoXul>	heh
<Zagor>	you, yes
<Zagor>	i don't use any more memory than before
<Linus>	because you already loaded the dir
<Zagor>	yup
<PsycoXul>	i guess if somebody wanted to hack in a battery indicator i'd be satisfied to use rockbox this week
<Linus>	the dir browser didn't exist when I wrote the mpeg thread
<Zagor>	PsycoXul: heh, that's a whole science!
<PsycoXul>	being out and about for a week in the middle of nowhere it just seems necessary to see when my battery is dead :p
<Linus>	you will know, trust me. :-)
<PsycoXul>	heh
<Zagor>	I promise to not be offended if you don't use the Rockbox firmware :)
<PsycoXul>	:p
<PsycoXul>	damn my ploy backfired :p
<Zagor>	now we are REALLY ready for 1.0 release
<PsycoXul>	if there was a rolo already i wouldn't care what was in what, i'd just have it all on there and choose what i felt like :p
<Zagor>	yeah, rolo would be really nice
<Bagder>	I'd prefer a recorder version first
<PsycoXul>	nahhh
<PsycoXul>	:p
*	Bagder smiles
<Linus>	Bagder: buy a Player
<Bagder>	well, you guys don't listen to yours, right? :-)
<PsycoXul>	well...
<PsycoXul>	i'm off to bed
<dwihno>	Night
<dwihno>	Sleep well
<Bagder>	night PsycoXul
<PsycoXul>	see ya either tomorrow or the week after next heh
<Zagor>	yeah, bye
<Linus>	night
---	Zagor is now known as Zagor|cake
---	Linus is now known as Linus|cake
<dwihno>	CAKE?!
<dwihno>	BEEFCAKE!
<Bagder>	ok, I added an internal rockbox logo now
<--	adam has quit (Read error: 104 (Connection reset by peer))
<dwihno>	yay!
<Bagder>	yeah, takes away the need for a rockbox112.bmp
<Bagder>	:-)
<dwihno>	yeah
<dwihno>	there should still be a loader to load alternative logotypes :)
<Bagder>	yes, it'll remain
<Bagder>	"bunkerromantik mix"
<Bagder>	sounds fine ;-)
<dwihno>	I'm the commander!
-->	KGY16 (OKE60@pD9EAB9A3.dip.t-dialin.net) has joined #rockbox
<Bagder>	welcome
<KGY16>	hi
---	KGY16 is now known as edx
<edx>	lol
<Bagder>	under cover edx!
<edx>	heh that was some script i wrote once...
<edx>	it was for some other irc server... it connected to a proxy with different IP every time and changed my ident and nickname so noone could ever find out im the smae person
<Bagder>	hax0r-edx ;-)
<Bagder>	edx: built that cross compiler yet? ;-)
<edx>	haha.. no
<edx>	i keep working with sh-elf work windows :P
<edx>	nothing to build - just doubleclick setup.exe and a few times next and there you go
<Bagder>	:-)
<edx>	for the mp3 download stuff i was working on i found a neat solution (without linux thoguh...)
<edx>	i wrote a program i can pass a list to and it controls WinMX for me (searches for the song, chooses the best version and downloads it)
<edx>	i get like constantly 90kb/sec like this (just pass it the current chart list!)
<dwihno>	cool
---	Zagor|cake is now known as Zagor
<dwihno>	Zagor: Good cake?
<Zagor>	very nice
---	Linus|cake is now known as Linus
<Linus>	burp!
<dwihno>	Beefcake? :)
<Linus>	Zagor: fix that mpeg thread bug!
<Zagor>	it was already fixed
<Linus>	oh?
---	edx is now known as edx|no_cake
<dwihno>	:)
<Zagor>	uh, it wasn't...
---	edx|no_cake is now known as edx
<Bagder>	14397 lines of code
<Bagder>	wc -l ` find firmware apps -name "*.[ch]" -maxdepth 2`
<Bagder>	everything included: 35163 lines
<Linus>	c00l!
<Linus>	Bagder: yuu have 8 minutes now...
<Bagder>	oh
<Bagder>	you too ;-)
<Linus>	yup.
<Bagder>	I'm off!
<--	Bagder (~daniel@as3-3-2.ras.s.bonet.se) has left #rockbox
<Linus>	bye
<Linus>	gotta go now. Bye!
<--	Linus (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<Zagor>	i can report Rockbox plays 320kbit mp3s just *fine*
<dwihno>	Yay
<dwihno>	I can report my ear cartilage is hurting
<Zagor>	11, 22, 44 and 48 kHz sample rate works too. we rock! :)
<edx>	hehe
<dwihno>	How is seeking?
<edx>	sweet :)
<Zagor>	seeking is in the future
<Zagor>	gotta go now, bye!
<--	Zagor (~bjst@as3-3-2.ras.s.bonet.se) has left #rockbox
<dwihno>	Hey, 1.0 seems pretty close. Kewl.
---	edx is now known as edx|away
<edx|away>	lol.. we should contact archos to replace their crap - maybe they pay us :P
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
---	dwihno is now known as dw|weekender
<--	adam has quit (Read error: 104 (Connection reset by peer))
-->	chaumai54 (~chau@64.118.137.3) has joined #rockbox
<chaumai54>	hello
<chaumai54>	so, I want to look at the source and compile it and mess with it to see if I have the skills to be able to contribute anfthing
<chaumai54>	using win2k pro, installed cygwin.
<chaumai54>	tried to follow the steps to make the sh-elf-gcc
<chaumai54>	when run binutils configure(or any of the configures for that matter) i get an error
<chaumai54>	checking whether make sets ${MAKE}... eval: 1: Syntax error: Unterminated quoted
<chaumai54>	 string
<chaumai54>	Configure in /home/linus/build/binutils/intl failed, exiting.
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
<--	chaumai54 has quit (Read error: 110 (Connection timed out))
<--	adam has quit (Read error: 104 (Connection reset by peer))
-->	chaumai54 (~chau@64.118.137.3) has joined #rockbox
<chaumai54>	helo?
<chaumai54>	                person = (Person)PartyHomeFactory.getPartyHome().findByPartyID(recipient);
<chaumai54>	oops
<chaumai54>	checking whether make sets ${MAKE}... eval: 1: Syntax error: Unterminated quoted
<chaumai54>	 string
<chaumai54>	Configure in /home/linus/build/binutils/intl failed, exiting.
<chaumai54>	.
<chaumai54>	...
<--	chaumai54 has quit ()
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
-->	nicknackpattywac (~first@nat-198-95-226-227.netapp.com) has joined #rockbox
<--	adam has quit (Read error: 104 (Connection reset by peer))
-->	chaumai54 (~chau@64.118.137.3) has joined #rockbox
<--	chaumai54 has quit ()
<--	nicknackpattywac has quit ()
-->	adam (~adam@c-24-118-162-179.mn.client2.attbi.com) has joined #rockbox
<edx|away>	adi.. you there?
<--	adam has quit (Read error: 104 (Connection reset by peer))
---	edx|away is now known as edx
<webmind>	anyone alive ?
<webmind>	question: if i start using the current rockbox firmware, will i be able to switch back easily to the firware from archos and is there any chance on damaging the thing ?
<edx>	there is a chance of damaging the thing - you will be able to switch back easily to the archos firmware
<edx>	finally. tetris. in large.
-->	motiv01 (~trillian@sdn-ar-001ncraleP247.dialsprint.net) has joined #rockbox
<--	motiv01 (~trillian@sdn-ar-001ncraleP247.dialsprint.net) has left #rockbox
-->	motiv01 (~trillian@sdn-ar-001ncraleP247.dialsprint.net) has joined #rockbox
<adi|work>	edx.. just saw your version of tetris.. it rocks :)(
<adi|work>	gotta run ... be home in a bit...
<edx>	thx adi.
<edx>	i gotta go as well now. cya guys
<--	edx has quit ("n8")
<webmind>	hmm, what damage could i encounter
**** ENDING LOGGING AT Fri May 31 19:56:21 2002

